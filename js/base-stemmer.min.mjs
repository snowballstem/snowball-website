function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var BaseStemmer=function(){"use strict";function BaseStemmer(){_classCallCheck(this,BaseStemmer);this.current="";this.cursor=0;this.limit=0;this.limit_backward=0;this.bra=0;this.ket=0}_createClass(BaseStemmer,[{key:"setCurrent",value:function setCurrent(value){this.current=value;this.cursor=0;this.limit=this.current.length;this.limit_backward=0;this.bra=this.cursor;this.ket=this.limit}},{key:"getCurrent",value:function getCurrent(){return this.current}},{key:"copy_from",value:function copy_from(other){this.current=other.current;this.cursor=other.cursor;this.limit=other.limit;this.limit_backward=other.limit_backward;this.bra=other.bra;this.ket=other.ket}},{key:"in_grouping",value:function in_grouping(s,min,max){if(this.cursor>=this.limit)return false;var ch=this.current.charCodeAt(this.cursor);if(ch>max||ch<min)return false;ch-=min;if((s[ch>>>3]&1<<(ch&7))==0)return false;this.cursor++;return true}},{key:"in_grouping_b",value:function in_grouping_b(s,min,max){if(this.cursor<=this.limit_backward)return false;var ch=this.current.charCodeAt(this.cursor-1);if(ch>max||ch<min)return false;ch-=min;if((s[ch>>>3]&1<<(ch&7))==0)return false;this.cursor--;return true}},{key:"out_grouping",value:function out_grouping(s,min,max){if(this.cursor>=this.limit)return false;var ch=this.current.charCodeAt(this.cursor);if(ch>max||ch<min){this.cursor++;return true}ch-=min;if((s[ch>>>3]&1<<(ch&7))==0){this.cursor++;return true}return false}},{key:"out_grouping_b",value:function out_grouping_b(s,min,max){if(this.cursor<=this.limit_backward)return false;var ch=this.current.charCodeAt(this.cursor-1);if(ch>max||ch<min){this.cursor--;return true}ch-=min;if((s[ch>>>3]&1<<(ch&7))==0){this.cursor--;return true}return false}},{key:"eq_s",value:function eq_s(s){if(this.limit-this.cursor<s.length)return false;if(this.current.slice(this.cursor,this.cursor+s.length)!=s){return false}this.cursor+=s.length;return true}},{key:"eq_s_b",value:function eq_s_b(s){if(this.cursor-this.limit_backward<s.length)return false;if(this.current.slice(this.cursor-s.length,this.cursor)!=s){return false}this.cursor-=s.length;return true}},{key:"find_among",value:function find_among(v){var i=0;var j=v.length;var c=this.cursor;var l=this.limit;var common_i=0;var common_j=0;var first_key_inspected=false;while(true){var k=i+(j-i>>>1);var diff=0;var common=common_i<common_j?common_i:common_j;var w=v[k];var i2=void 0;for(i2=common;i2<w[0].length;i2++){if(c+common==l){diff=-1;break}diff=this.current.charCodeAt(c+common)-w[0].charCodeAt(i2);if(diff!=0)break;common++}if(diff<0){j=k;common_j=common}else{i=k;common_i=common}if(j-i<=1){if(i>0)break;if(j==i)break;if(first_key_inspected)break;first_key_inspected=true}}do{var w1=v[i];if(common_i>=w1[0].length){this.cursor=c+w1[0].length;if(w1.length<4)return w1[2];var res=w1[3](this);this.cursor=c+w1[0].length;if(res)return w1[2]}i=w1[1]}while(i>=0);return 0}},{key:"find_among_b",value:function find_among_b(v){var i=0;var j=v.length;var c=this.cursor;var lb=this.limit_backward;var common_i=0;var common_j=0;var first_key_inspected=false;while(true){var k=i+(j-i>>1);var diff=0;var common=common_i<common_j?common_i:common_j;var w=v[k];var i2=void 0;for(i2=w[0].length-1-common;i2>=0;i2--){if(c-common==lb){diff=-1;break}diff=this.current.charCodeAt(c-1-common)-w[0].charCodeAt(i2);if(diff!=0)break;common++}if(diff<0){j=k;common_j=common}else{i=k;common_i=common}if(j-i<=1){if(i>0)break;if(j==i)break;if(first_key_inspected)break;first_key_inspected=true}}do{var w2=v[i];if(common_i>=w2[0].length){this.cursor=c-w2[0].length;if(w2.length<4)return w2[2];var res=w2[3](this);this.cursor=c-w2[0].length;if(res)return w2[2]}i=w2[1]}while(i>=0);return 0}},{key:"replace_s",value:function replace_s(c_bra,c_ket,s){var adjustment=s.length-(c_ket-c_bra);this.current=this.current.slice(0,c_bra)+s+this.current.slice(c_ket);this.limit+=adjustment;if(this.cursor>=c_ket)this.cursor+=adjustment;else if(this.cursor>c_bra)this.cursor=c_bra;return adjustment}},{key:"slice_check",value:function slice_check(){if(this.bra<0||this.bra>this.ket||this.ket>this.limit||this.limit>this.current.length){return false}return true}},{key:"slice_from",value:function slice_from(s){var result=false;if(this.slice_check()){this.replace_s(this.bra,this.ket,s);result=true}return result}},{key:"slice_del",value:function slice_del(){return this.slice_from("")}},{key:"insert",value:function insert(c_bra,c_ket,s){var adjustment=this.replace_s(c_bra,c_ket,s);if(c_bra<=this.bra)this.bra+=adjustment;if(c_bra<=this.ket)this.ket+=adjustment}},{key:"slice_to",value:function slice_to(){var result="";if(this.slice_check()){result=this.current.slice(this.bra,this.ket)}return result}},{key:"assign_to",value:function assign_to(){return this.current.slice(0,this.limit)}}]);return BaseStemmer}();export default BaseStemmer