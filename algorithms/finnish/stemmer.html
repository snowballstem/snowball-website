<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="/favicon.ico">
    <title>Finnish stemming algorithm - Snowball</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link href="/styles.css" rel="stylesheet">
  </head>

  <body>

    <!-- Static navbar -->
    <nav class="navbar navbar-light bg-light navbar-static-top">
      <div class="navbar-header">
        <a class="navbar-brand float-left" href="/"><img src="/snub-dodecahedron.gif" alt="Snowball Logo" style="margin: 4px; height: 42px;"> Snowball</a>
        <span id="forkongithub"><a href="https://github.com/snowballstem/snowball">Fork me on GitHub</a></span>
      </div>
    </nav>

    <div class="container">
      <div class="row">
        <div class="col-lg-2">
          
        </div>
        <div class="col-lg-10">
          <h1>Finnish stemming algorithm</h1>


<h2>Links to resources</h2>

<ul>
<li> <a href="/demo.html#Finnish">Javascript demo</a></li>
<li> <a href="https://raw.githubusercontent.com/snowballstem/snowball/master/algorithms/finnish.sbl">The stemmer in Snowball</a></li>
<li> <a href="https://raw.githubusercontent.com/snowballstem/snowball-data/master/finnish/voc.txt">Sample Finnish vocabulary</a></li>
<li> <a href="https://raw.githubusercontent.com/snowballstem/snowball-data/master/finnish/output.txt">Its stemmed equivalent</a></li>
<li> <a href="stop.txt">Finnish stop word list (UTF-8 encoding)</a>
</ul>

<h2>Design Notes</h2>

<p>
Finnish is not an Indo-European language, but belongs to the Finno-Ugric
group, which again belongs to the Uralic group <A HREF="../../texts/glossary.html">(*)</A>. Distinctions between
<I>a</I>-, <I>i</I>- and <I>d</I>-suffixes can be made in Finnish, but they are much
less sharply separated than in an Indo-European language. The system of
endings is extremely elaborate, but strictly defined, and applies equally to
all nominals, that is, to nouns, adjectives and pronouns. Verb endings have a
close similarity to nominal endings, which again makes Finnish very different
from any Indo-European language.
</p>

<p>
More problematical than the endings themselves is the change that can be
effected in a stem as a result of taking a particular ending. A stem typically
has two forms, <I>strong</I> and <I>weak</I>, where one class of ending follows the
strong form and the complementary class the weak. Normalising strong and weak
forms after ending removal is not generally possible, although the common case
where strong and weak forms only differ in the single or double form of a
final consonant can be dealt with.
</p>

<p>
The letter <b><i>å</i></b> is also in the Finnish alphabet, but is only used
in Scandanavian names.  Treating it as a vowel in the stemmer does not improve
retrieval results (instead it makes things very slightly worse as it will tend
to cause the stemmer to conflate names with other words more).
</p>

<p>
Here is a sample of Finnish vocabulary, with the stemmed forms that will be generated by this algorithm:
</p>

<div style="background-color:lightpink">
<TABLE CELLPADDING=0>
<TR><TD>  <B>word</B> </TD>
 <TD></TD><TD> </TD>
 <TD></TD><TD> <B>stem</B> </TD>
 <TD></TD><TD>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
 <TD></TD><TD> <B>word</B> </TD>
 <TD></TD><TD> </TD>
 <TD></TD><TD> <B>stem</B> </TD>
</TR>

<TR><TD>
edeltäjien<BR>
edeltäjiensä<BR>
edeltäjiinsä<BR>
edeltäjistään<BR>
edeltäjiä<BR>
edeltäjiään<BR>
edeltäjä<BR>
edeltäjälleen<BR>
edeltäjän<BR>
edeltäjäni<BR>
edeltäjänsä<BR>
edeltäjänä<BR>
edeltäjässä<BR>
edeltäjästä<BR>
edeltäjästään<BR>
edeltäjät<BR>
edeltäjää<BR>
edeltäjään<BR>
edeltäjäänsä<BR>
edeltäneelle<BR>
edeltäneellä<BR>
edeltäneeltä<BR>
edeltäneen<BR>
edeltäneenä<BR>
edeltäneeseen<BR>
edeltäneessä<BR>
edeltäneestä<BR>
edeltäneet<BR>
edeltäneiden<BR>
edeltäneissä<BR>
edeltäneitä<BR>
edeltänyt<BR>
edeltänyttä<BR>
edeltävien<BR>
edeltäviin<BR>
edeltävinä<BR>
edeltävissä<BR>
edeltävä<BR>
edeltävälle<BR>
edeltävällä<BR>
</TD>
<TD></TD><TD> <b>&#x21d2;</b> </TD>
<TD></TD><TD>
edeltäj<BR>
edeltäjie<BR>
edeltäj<BR>
edeltäj<BR>
edeltäj<BR>
edeltäjiä<BR>
edeltäj<BR>
edeltäj<BR>
edeltäj<BR>
edeltäj<BR>
edeltäj<BR>
edeltäj<BR>
edeltäj<BR>
edeltäj<BR>
edeltäj<BR>
edeltäj<BR>
edeltäj<BR>
edeltäj<BR>
edeltäj<BR>
edeltän<BR>
edeltän<BR>
edeltän<BR>
edeltän<BR>
edeltän<BR>
edeltän<BR>
edeltän<BR>
edeltän<BR>
edeltän<BR>
edeltän<BR>
edeltän<BR>
edeltän<BR>
edeltäny<BR>
edeltänyt<BR>
edeltäv<BR>
edeltäv<BR>
edeltäv<BR>
edeltäv<BR>
edeltäv<BR>
edeltäv<BR>
edeltäv<BR>
</TD>
<TD></TD><TD> </TD>
<TD></TD><TD>
innostu<BR>
innostua<BR>
innostuessaan<BR>
innostui<BR>
innostuimme<BR>
innostuin<BR>
innostuisi<BR>
innostuisivat<BR>
innostuivat<BR>
innostukseen<BR>
innostuksella<BR>
innostuksen<BR>
innostuksensa<BR>
innostuksessa<BR>
innostuksessaan<BR>
innostuksesta<BR>
innostuksissaan<BR>
innostumaan<BR>
innostuminen<BR>
innostun<BR>
innostuneelle<BR>
innostuneempia<BR>
innostuneen<BR>
innostuneena<BR>
innostuneesta<BR>
innostuneesti<BR>
innostuneet<BR>
innostuneiden<BR>
innostuneiksi<BR>
innostunein<BR>
innostuneina<BR>
innostuneissa<BR>
innostuneisuus<BR>
innostuneita<BR>
innostunut<BR>
innostunutta<BR>
innostus<BR>
innostusta<BR>
innostustaan<BR>
innostutaan<BR>
</TD>
<TD></TD><TD> <b>&#x21d2;</b> </TD>
<TD></TD><TD>
innostu<BR>
innostu<BR>
innostue<BR>
innostui<BR>
innostui<BR>
innostu<BR>
innostui<BR>
innostuisiv<BR>
innostuiv<BR>
innostuks<BR>
innostuks<BR>
innostuks<BR>
innostuks<BR>
innostuks<BR>
innostuks<BR>
innostuks<BR>
innostuks<BR>
innostum<BR>
innostumin<BR>
innostu<BR>
innostun<BR>
innostun<BR>
innostun<BR>
innostun<BR>
innostun<BR>
innostun<BR>
innostun<BR>
innostun<BR>
innostun<BR>
innostun<BR>
innostun<BR>
innostun<BR>
innostuneisuus<BR>
innostun<BR>
innostunu<BR>
innostunut<BR>
innostus<BR>
innostu<BR>
innostu<BR>
innostu<BR>
</TD>
</TR>
</TABLE>
</div>

<h2>The stemming algorithm</h2>

<p>
Finnish includes the following accented forms,
</p>

<DL><DD>
    <B><I>ä  &nbsp;  ö</I></B>
</DL>

<p>
The following letters are vowels:
</p>

<DL><DD>
    <B><I>a  &nbsp;  e  &nbsp;  i  &nbsp;  o  &nbsp;  u  &nbsp;  y  &nbsp;  ä  &nbsp;  ö</I></B>
</DL>

<p>
<I>R</I>1 and
<I>R</I>2 are then defined in the usual way
(see the <A HREF="../../texts/r1r2.html"> note</A> on <I>R</I>1 and <I>R</I>2).
</p>

<p>
Do each of steps 1, 2, 3, 4, 5 and 6.
</p>

<p>
Step 1: particles etc
</p>

<DL><DD>
    Search for the longest among the following suffixes in <I>R</I>1, and perform the
    action indicated
<BR><BR>
<DL>
    <DT>(<I>a</I>) <B><I>kin  &nbsp;  kaan  &nbsp;  kään  &nbsp;  ko  &nbsp;  kö  &nbsp;  han  &nbsp;  hän  &nbsp;  pa  &nbsp;  pä</I></B>
        <DD>delete if preceded by <B><I>n</I></B>, <B><I>t</I></B> or a vowel
    <DT>(<I>b</I>) <B><I>sti</I></B>
        <DD>delete if in <I>R</I>2
</DL>
</DL>

<p>
Note that only the suffix needs to be in <I>R</I>1, the <B><I>n</I></B>,
<B><I>t</I></B> or vowel of 1(<I>a</I>) is not required to be.
And similarly below.
</p>

<p>
Step 2: possessives
</p>

<DL><DD>
    Search for the longest among the following suffixes in <I>R</I>1, and perform the
    action indicated
<BR><BR>
<DL>
    <DT><B><I>si</I></B>
        <DD>delete if not preceded by <B><I>k</I></B>
    <DT><B><I>ni</I></B>
        <DD>delete
        <DD>if preceded by <B><I>kse</I></B>, replace with <B><I>ksi</I></B>
    <DT><B><I>nsa  &nbsp;  nsä  &nbsp;  mme  &nbsp;  nne</I></B>
        <DD>delete
    <DT><B><I>an</I></B>
        <DD>delete if preceded by one of  &nbsp; <B><I>ta  &nbsp;  ssa  &nbsp;  sta  &nbsp;  lla  &nbsp;  lta  &nbsp;  na</I></B>
    <DT><B><I>än</I></B>
        <DD>delete if preceded by one of  &nbsp; <B><I>tä  &nbsp;  ssä  &nbsp;  stä  &nbsp;  llä  &nbsp;  ltä  &nbsp;  nä</I></B>
    <DT><B><I>en</I></B>
        <DD>delete if preceded by one of  &nbsp; <B><I>lle  &nbsp;  ine</I></B>
</DL>
</DL>

<p>
The remaining steps require a few definitions.
</p>

<p>
Define a <I>v</I> (vowel) as one of  &nbsp; <B><I>a  &nbsp;  e  &nbsp;  i  &nbsp;  o  &nbsp;  u  &nbsp;  y  &nbsp;  ä  &nbsp;  ö</I></B>.
<BR>
Define a <I>V</I> (restricted vowel) as one of  &nbsp; <B><I>a  &nbsp;  e  &nbsp;  i  &nbsp;  o  &nbsp;  u  &nbsp;  ä  &nbsp;  ö</I></B>.
<BR>
So <I>V</I><B><I>i</I></B> means a <I>V</I> followed by letter <B><I>i</I></B>.
<BR>
Define <I>LV</I> (long vowel) as one of  &nbsp; <B><I>aa  &nbsp;  ee  &nbsp;  ii  &nbsp;  oo  &nbsp;  uu  &nbsp;  ää  &nbsp;  öö</I></B>.
<BR>
Define a <I>c</I> (consonant) as a character from ASCII a-z which isn't in
<I>v</I> (originally this was "a character other than a <I>v</I> but since
2018-04-11 we've changed this definition to avoid the stemmer from altering
sequences of digits).
<BR>
So <I>cv</I> means a <I>c</I> followed by a <I>v</I>.
</p>

<p>
Step 3: cases
</p>
<DL><DD>
    Search for the longest among the following suffixes in <I>R</I>1, and perform the
    action indicated
</p>

<DL>
    <DT><B><I>h</I></B><I>X</I><B><I>n</I></B>  &nbsp;  preceded by <I>X</I>, where <I>X</I> is a <I>V</I> other than <B><I>u</I></B> (<B><I>a/han</I></B>, <B><I>e/hen</I></B> etc)
    <DT><B><I>siin  &nbsp;  den  &nbsp;  tten</I></B>  &nbsp;  preceded by <I>V</I><B><I>i</I></B>
    <DT><B><I>seen</I></B>  &nbsp;  preceded by <I>LV</I>
    <DT><B><I>a  &nbsp;  ä</I></B>  &nbsp;  preceded by <I>cv</I>
    <DT><B><I>tta  &nbsp;  ttä</I></B>  &nbsp;  preceded by <B><I>e</I></B>
    <DT><B><I>ta  &nbsp;  tä  &nbsp;  ssa  &nbsp;  ssä  &nbsp;  sta  &nbsp;  stä  &nbsp;  lla  &nbsp;  llä  &nbsp;  lta  &nbsp;  ltä  &nbsp;  lle  &nbsp;  na  &nbsp;  nä  &nbsp;  ksi  &nbsp;  ine</I></B>
        <DD>delete
    <DT><B><I>n</I></B>
        <DD>delete, and if preceded by <I>LV</I> or <B><I>ie</I></B>, delete the last vowel
</DL>
</DL>

<p>
So <I>aarteisiin</I> &#x2192; <I>aartei</I>, the longest matching suffix being <B><I>siin</I></B>,
preceded as it is by <I>V</I><B><I>i</I></B>. But <I>adressiin</I> &#x2192; <I>adressi</I>. The longest
matching suffix is not <B><I>siin</I></B>, because there is no preceding <I>V</I><B><I>i</I></B>, but <B><I>n</I></B>,
and then the last vowel of the preceding <I>LV</I> is removed.
</p>

<p>
Step 4: other endings
</p>

<DL><DD>
    Search for the longest among the following suffixes in <I>R</I>2, and perform the
    action indicated
<BR><BR>
<DL>
    <DT><B><I>mpi  &nbsp;  mpa  &nbsp;  mpä  &nbsp;  mmi  &nbsp;  mma  &nbsp;  mmä</I></B>
        <DD>delete if not preceded by <B><I>po</I></B>
    <DT><B><I>impi  &nbsp;  impa  &nbsp;  impä  &nbsp;  immi  &nbsp;  imma  &nbsp;  immä  &nbsp;  eja  &nbsp;  ejä</I></B>
        <DD>delete
</DL>
</DL>

<p>
Step 5: plurals
</p>

<DL><DD>
If an ending was removed in step 3, delete a final <B><I>i</I></B> or <B><I>j</I></B> if in <I>R</I>1;
otherwise, if an ending was not removed in step 3, delete a final <B><I>t</I></B> in
<I>R</I>1 if it follows a vowel, and, if a <B><I>t</I></B> is removed, delete a final <B><I>mma</I></B> or
<B><I>imma</I></B> in <I>R</I>2, unless the <B><I>mma</I></B> is preceded by <B><I>po</I></B>.
</DL>

<p>
Step 6: tidying up
</p>

<DL><DD>
Do in turn steps (<I>a</I>), (<I>b</I>), (<I>c</I>), (<I>d</I>), restricting all tests to the region
<I>R</I>1.
</p>

<p>
<I>a</I>) If <I>R</I>1 ends <I>LV</I> delete the last letter<BR>
<I>b</I>) If <I>R</I>1 ends <I>cX</I>, <I>c</I> a consonant and <I>X</I> one of  &nbsp; <B><I>a  &nbsp;  ä  &nbsp;  e  &nbsp;  i</I></B>, delete the last
letter<BR>
<I>c</I>) If <I>R</I>1 ends <B><I>oj</I></B> or <B><I>uj</I></B> delete the last letter<BR>
<I>d</I>) If <I>R</I>1 ends <B><I>jo</I></B> delete the last letter
</p>

<p>
Do step (<I>e</I>), which is not restricted to <I>R</I>1.
</p>

<p>
<I>e</I>) If the word ends with a double consonant followed by zero or more vowels,
remove the last consonant (so <I>eläkk</I> &#x2192; <I>eläk</I>, <I>aatonaatto</I> &#x2192;
<I>aatonaato</I>)
</p>
</DL>

<h2>The full algorithm in Snowball</h2>

<div class="highlight"><pre><span class="cm">/* Finnish stemmer.</span>

<span class="cm">   Numbers in square brackets refer to the sections in</span>
<span class="cm">   Fred Karlsson, Finnish: An Essential Grammar. Routledge, 1999</span>
<span class="cm">   ISBN 0-415-20705-3</span>

<span class="cm">*/</span>

<span class="kr">routines</span><span class="w"> </span><span class="p">(</span>
<span class="w">           </span><span class="n">mark_regions</span>
<span class="w">           </span><span class="n">R2</span>
<span class="w">           </span><span class="n">particle_etc</span><span class="w"> </span><span class="n">possessive</span>
<span class="w">           </span><span class="n">LONG</span><span class="w"> </span><span class="n">VI</span>
<span class="w">           </span><span class="n">case_ending</span>
<span class="w">           </span><span class="n">i_plural</span>
<span class="w">           </span><span class="n">t_plural</span>
<span class="w">           </span><span class="n">other_endings</span>
<span class="w">           </span><span class="n">tidy</span>
<span class="p">)</span>

<span class="kr">externals</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">stem</span><span class="w"> </span><span class="p">)</span>

<span class="kr">integers</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="n">p2</span><span class="w"> </span><span class="p">)</span>
<span class="kr">strings</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">)</span>
<span class="kr">booleans</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">ending_removed</span><span class="w"> </span><span class="p">)</span>
<span class="kr">groupings</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">AEI</span><span class="w"> </span><span class="n">C</span><span class="w"> </span><span class="n">V1</span><span class="w"> </span><span class="n">V2</span><span class="w"> </span><span class="n">particle_end</span><span class="w"> </span><span class="p">)</span>

<span class="kr">stringescapes</span><span class="w"> </span><span class="se">{}</span>

<span class="cm">/* special characters */</span>

<span class="kr">stringdef</span><span class="w"> </span><span class="se">a&quot;</span><span class="w">   </span><span class="s1">&#39;</span><span class="se">{U+00E4}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">o&quot;</span><span class="w">   </span><span class="s1">&#39;</span><span class="se">{U+00F6}</span><span class="s1">&#39;</span>

<span class="kr">define</span><span class="w"> </span><span class="n">AEI</span><span class="w"> </span><span class="s1">&#39;a</span><span class="se">{a&quot;}</span><span class="s1">ei&#39;</span>
<span class="kr">define</span><span class="w"> </span><span class="n">C</span><span class="w"> </span><span class="s1">&#39;bcdfghjklmnpqrstvwxz&#39;</span>
<span class="kr">define</span><span class="w"> </span><span class="n">V1</span><span class="w"> </span><span class="s1">&#39;aeiouy</span><span class="se">{a&quot;}{o&quot;}</span><span class="s1">&#39;</span>
<span class="kr">define</span><span class="w"> </span><span class="n">V2</span><span class="w"> </span><span class="s1">&#39;aeiou</span><span class="se">{a&quot;}{o&quot;}</span><span class="s1">&#39;</span>
<span class="kr">define</span><span class="w"> </span><span class="n">particle_end</span><span class="w"> </span><span class="n">V1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;nt&#39;</span>

<span class="kr">define</span><span class="w"> </span><span class="n">mark_regions</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>

<span class="w">    </span><span class="o">$</span><span class="n">p1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">limit</span>
<span class="w">    </span><span class="o">$</span><span class="n">p2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">limit</span>

<span class="w">    </span><span class="ow">gopast</span><span class="w"> </span><span class="n">V1</span><span class="w">  </span><span class="ow">gopast</span><span class="w"> </span><span class="ow">non</span><span class="o">-</span><span class="n">V1</span><span class="w">  </span><span class="ow">setmark</span><span class="w"> </span><span class="n">p1</span>
<span class="w">    </span><span class="ow">gopast</span><span class="w"> </span><span class="n">V1</span><span class="w">  </span><span class="ow">gopast</span><span class="w"> </span><span class="ow">non</span><span class="o">-</span><span class="n">V1</span><span class="w">  </span><span class="ow">setmark</span><span class="w"> </span><span class="n">p2</span>
<span class="p">)</span>

<span class="kr">backwardmode</span><span class="w"> </span><span class="p">(</span>

<span class="w">    </span><span class="kr">define</span><span class="w"> </span><span class="n">R2</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="o">$</span><span class="n">p2</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="nb">cursor</span>

<span class="w">    </span><span class="kr">define</span><span class="w"> </span><span class="n">particle_etc</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="ow">setlimit</span><span class="w"> </span><span class="ow">tomark</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="ow">for</span><span class="w"> </span><span class="p">(</span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="p">)</span>
<span class="w">        </span><span class="kr">among</span><span class="p">(</span>
<span class="w">            </span><span class="s1">&#39;kin&#39;</span>
<span class="w">            </span><span class="s1">&#39;kaan&#39;</span><span class="w"> </span><span class="s1">&#39;k</span><span class="se">{a&quot;}{a&quot;}</span><span class="s1">n&#39;</span>
<span class="w">            </span><span class="s1">&#39;ko&#39;</span><span class="w">   </span><span class="s1">&#39;k</span><span class="se">{o&quot;}</span><span class="s1">&#39;</span>
<span class="w">            </span><span class="s1">&#39;han&#39;</span><span class="w">  </span><span class="s1">&#39;h</span><span class="se">{a&quot;}</span><span class="s1">n&#39;</span>
<span class="w">            </span><span class="s1">&#39;pa&#39;</span><span class="w">   </span><span class="s1">&#39;p</span><span class="se">{a&quot;}</span><span class="s1">&#39;</span><span class="w">    </span><span class="c1">// Particles [91]</span>
<span class="w">                </span><span class="p">(</span><span class="n">particle_end</span><span class="p">)</span>
<span class="w">            </span><span class="s1">&#39;sti&#39;</span><span class="w">             </span><span class="c1">// Adverb [87]</span>
<span class="w">                </span><span class="p">(</span><span class="n">R2</span><span class="p">)</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">        </span><span class="ow">delete</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">    </span><span class="kr">define</span><span class="w"> </span><span class="n">possessive</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span><span class="w">    </span><span class="c1">// [36]</span>
<span class="w">        </span><span class="ow">setlimit</span><span class="w"> </span><span class="ow">tomark</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="ow">for</span><span class="w"> </span><span class="p">(</span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="p">)</span>
<span class="w">        </span><span class="kr">among</span><span class="p">(</span>
<span class="w">            </span><span class="s1">&#39;si&#39;</span>
<span class="w">                </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="s1">&#39;k&#39;</span><span class="w"> </span><span class="ow">delete</span><span class="p">)</span><span class="w">  </span><span class="c1">// take &#39;ksi&#39; as the Comitative case</span>
<span class="w">            </span><span class="s1">&#39;ni&#39;</span>
<span class="w">                </span><span class="p">(</span><span class="ow">delete</span><span class="w"> </span><span class="o">[</span><span class="s1">&#39;kse&#39;</span><span class="o">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;ksi&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">// kseni = ksi + ni</span>
<span class="w">            </span><span class="s1">&#39;nsa&#39;</span><span class="w"> </span><span class="s1">&#39;ns</span><span class="se">{a&quot;}</span><span class="s1">&#39;</span>
<span class="w">            </span><span class="s1">&#39;mme&#39;</span>
<span class="w">            </span><span class="s1">&#39;nne&#39;</span>
<span class="w">                </span><span class="p">(</span><span class="ow">delete</span><span class="p">)</span>
<span class="w">            </span><span class="cm">/* Now for Vn possessives after case endings: [36] */</span>
<span class="w">            </span><span class="s1">&#39;an&#39;</span>
<span class="w">                </span><span class="p">(</span><span class="kr">among</span><span class="p">(</span><span class="s1">&#39;ta&#39;</span><span class="w"> </span><span class="s1">&#39;ssa&#39;</span><span class="w"> </span><span class="s1">&#39;sta&#39;</span><span class="w"> </span><span class="s1">&#39;lla&#39;</span><span class="w"> </span><span class="s1">&#39;lta&#39;</span><span class="w"> </span><span class="s1">&#39;na&#39;</span><span class="p">)</span><span class="w"> </span><span class="ow">delete</span><span class="p">)</span>
<span class="w">            </span><span class="s1">&#39;</span><span class="se">{a&quot;}</span><span class="s1">n&#39;</span>
<span class="w">                </span><span class="p">(</span><span class="kr">among</span><span class="p">(</span><span class="s1">&#39;t</span><span class="se">{a&quot;}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;ss</span><span class="se">{a&quot;}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;st</span><span class="se">{a&quot;}</span><span class="s1">&#39;</span>
<span class="w">                       </span><span class="s1">&#39;ll</span><span class="se">{a&quot;}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;lt</span><span class="se">{a&quot;}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;n</span><span class="se">{a&quot;}</span><span class="s1">&#39;</span><span class="p">)</span><span class="w"> </span><span class="ow">delete</span><span class="p">)</span>
<span class="w">            </span><span class="s1">&#39;en&#39;</span>
<span class="w">                </span><span class="p">(</span><span class="kr">among</span><span class="p">(</span><span class="s1">&#39;lle&#39;</span><span class="w"> </span><span class="s1">&#39;ine&#39;</span><span class="p">)</span><span class="w"> </span><span class="ow">delete</span><span class="p">)</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>

<span class="w">    </span><span class="kr">define</span><span class="w"> </span><span class="n">LONG</span><span class="w"> </span><span class="kr">as</span>
<span class="w">        </span><span class="kr">among</span><span class="p">(</span><span class="s1">&#39;aa&#39;</span><span class="w"> </span><span class="s1">&#39;ee&#39;</span><span class="w"> </span><span class="s1">&#39;ii&#39;</span><span class="w"> </span><span class="s1">&#39;oo&#39;</span><span class="w"> </span><span class="s1">&#39;uu&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{a&quot;}{a&quot;}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{o&quot;}{o&quot;}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="w">    </span><span class="kr">define</span><span class="w"> </span><span class="n">VI</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="w"> </span><span class="n">V2</span><span class="p">)</span>

<span class="w">    </span><span class="kr">define</span><span class="w"> </span><span class="n">case_ending</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="ow">setlimit</span><span class="w"> </span><span class="ow">tomark</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="ow">for</span><span class="w"> </span><span class="p">(</span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="p">)</span>
<span class="w">        </span><span class="kr">among</span><span class="p">(</span>
<span class="w">            </span><span class="s1">&#39;han&#39;</span><span class="w">    </span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="w">          </span><span class="c1">//-.</span>
<span class="w">            </span><span class="s1">&#39;hen&#39;</span><span class="w">    </span><span class="p">(</span><span class="s1">&#39;e&#39;</span><span class="p">)</span><span class="w">          </span><span class="c1">// |</span>
<span class="w">            </span><span class="s1">&#39;hin&#39;</span><span class="w">    </span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">)</span><span class="w">          </span><span class="c1">// |</span>
<span class="w">            </span><span class="s1">&#39;hon&#39;</span><span class="w">    </span><span class="p">(</span><span class="s1">&#39;o&#39;</span><span class="p">)</span><span class="w">          </span><span class="c1">// |</span>
<span class="w">            </span><span class="s1">&#39;h</span><span class="se">{a&quot;}</span><span class="s1">n&#39;</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;</span><span class="se">{a&quot;}</span><span class="s1">&#39;</span><span class="p">)</span><span class="w">       </span><span class="c1">// Illative   [43]</span>
<span class="w">            </span><span class="s1">&#39;h</span><span class="se">{o&quot;}</span><span class="s1">n&#39;</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;</span><span class="se">{o&quot;}</span><span class="s1">&#39;</span><span class="p">)</span><span class="w">       </span><span class="c1">// |</span>
<span class="w">            </span><span class="s1">&#39;siin&#39;</span><span class="w">   </span><span class="n">VI</span><span class="w">             </span><span class="c1">// |</span>
<span class="w">            </span><span class="s1">&#39;seen&#39;</span><span class="w">   </span><span class="n">LONG</span><span class="w">           </span><span class="c1">//-&#39;</span>

<span class="w">            </span><span class="s1">&#39;den&#39;</span><span class="w">    </span><span class="n">VI</span>
<span class="w">            </span><span class="s1">&#39;tten&#39;</span><span class="w">   </span><span class="n">VI</span><span class="w">             </span><span class="c1">// Genitive plurals [34]</span>
<span class="w">                     </span><span class="p">()</span>
<span class="w">            </span><span class="s1">&#39;n&#39;</span><span class="w">                     </span><span class="c1">// Genitive or Illative</span>
<span class="w">                </span><span class="p">(</span><span class="w"> </span><span class="ow">try</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">LONG</span><span class="w"> </span><span class="c1">// Illative</span>
<span class="w">                        </span><span class="ow">or</span><span class="w"> </span><span class="s1">&#39;ie&#39;</span><span class="w"> </span><span class="c1">// Genitive</span>
<span class="w">                          </span><span class="ow">and</span><span class="w"> </span><span class="ow">next</span><span class="w"> </span><span class="o">]</span>
<span class="w">                      </span><span class="p">)</span>
<span class="w">                  </span><span class="cm">/* otherwise Genitive */</span>
<span class="w">                </span><span class="p">)</span>

<span class="w">            </span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{a&quot;}</span><span class="s1">&#39;</span><span class="w">              </span><span class="c1">//-.</span>
<span class="w">                     </span><span class="p">(</span><span class="n">V1</span><span class="w"> </span><span class="n">C</span><span class="p">)</span><span class="w">         </span><span class="c1">// |</span>
<span class="w">            </span><span class="s1">&#39;tta&#39;</span><span class="w"> </span><span class="s1">&#39;tt</span><span class="se">{a&quot;}</span><span class="s1">&#39;</span><span class="w">          </span><span class="c1">// Partitive  [32]</span>
<span class="w">                     </span><span class="p">(</span><span class="s1">&#39;e&#39;</span><span class="p">)</span><span class="w">          </span><span class="c1">// |</span>
<span class="w">            </span><span class="s1">&#39;ta&#39;</span><span class="w"> </span><span class="s1">&#39;t</span><span class="se">{a&quot;}</span><span class="s1">&#39;</span><span class="w">            </span><span class="c1">//-&#39;</span>

<span class="w">            </span><span class="s1">&#39;ssa&#39;</span><span class="w"> </span><span class="s1">&#39;ss</span><span class="se">{a&quot;}</span><span class="s1">&#39;</span><span class="w">          </span><span class="c1">// Inessive   [41]</span>
<span class="w">            </span><span class="s1">&#39;sta&#39;</span><span class="w"> </span><span class="s1">&#39;st</span><span class="se">{a&quot;}</span><span class="s1">&#39;</span><span class="w">          </span><span class="c1">// Elative    [42]</span>

<span class="w">            </span><span class="s1">&#39;lla&#39;</span><span class="w"> </span><span class="s1">&#39;ll</span><span class="se">{a&quot;}</span><span class="s1">&#39;</span><span class="w">          </span><span class="c1">// Adessive   [44]</span>
<span class="w">            </span><span class="s1">&#39;lta&#39;</span><span class="w"> </span><span class="s1">&#39;lt</span><span class="se">{a&quot;}</span><span class="s1">&#39;</span><span class="w">          </span><span class="c1">// Ablative   [51]</span>
<span class="w">            </span><span class="s1">&#39;lle&#39;</span><span class="w">                   </span><span class="c1">// Allative   [46]</span>
<span class="w">            </span><span class="s1">&#39;na&#39;</span><span class="w"> </span><span class="s1">&#39;n</span><span class="se">{a&quot;}</span><span class="s1">&#39;</span><span class="w">            </span><span class="c1">// Essive     [49]</span>
<span class="w">            </span><span class="s1">&#39;ksi&#39;</span><span class="w">                   </span><span class="c1">// Translative[50]</span>
<span class="w">            </span><span class="s1">&#39;ine&#39;</span><span class="w">                   </span><span class="c1">// Comitative [51]</span>

<span class="w">            </span><span class="cm">/* Abessive and Instructive are too rare for</span>
<span class="cm">               inclusion [51] */</span>

<span class="w">        </span><span class="p">)</span>
<span class="w">        </span><span class="ow">delete</span>
<span class="w">        </span><span class="ow">set</span><span class="w"> </span><span class="n">ending_removed</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">    </span><span class="kr">define</span><span class="w"> </span><span class="n">other_endings</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="ow">setlimit</span><span class="w"> </span><span class="ow">tomark</span><span class="w"> </span><span class="n">p2</span><span class="w"> </span><span class="ow">for</span><span class="w"> </span><span class="p">(</span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="p">)</span>
<span class="w">        </span><span class="kr">among</span><span class="p">(</span>
<span class="w">            </span><span class="s1">&#39;mpi&#39;</span><span class="w"> </span><span class="s1">&#39;mpa&#39;</span><span class="w"> </span><span class="s1">&#39;mp</span><span class="se">{a&quot;}</span><span class="s1">&#39;</span>
<span class="w">            </span><span class="s1">&#39;mmi&#39;</span><span class="w"> </span><span class="s1">&#39;mma&#39;</span><span class="w"> </span><span class="s1">&#39;mm</span><span class="se">{a&quot;}</span><span class="s1">&#39;</span><span class="w">    </span><span class="c1">// Comparative forms [85]</span>
<span class="w">                </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="s1">&#39;po&#39;</span><span class="p">)</span><span class="w">          </span><span class="c1">//-improves things</span>
<span class="w">            </span><span class="s1">&#39;impi&#39;</span><span class="w"> </span><span class="s1">&#39;impa&#39;</span><span class="w"> </span><span class="s1">&#39;imp</span><span class="se">{a&quot;}</span><span class="s1">&#39;</span>
<span class="w">            </span><span class="s1">&#39;immi&#39;</span><span class="w"> </span><span class="s1">&#39;imma&#39;</span><span class="w"> </span><span class="s1">&#39;imm</span><span class="se">{a&quot;}</span><span class="s1">&#39;</span><span class="w"> </span><span class="c1">// Superlative forms [86]</span>
<span class="w">            </span><span class="s1">&#39;eja&#39;</span><span class="w"> </span><span class="s1">&#39;ej</span><span class="se">{a&quot;}</span><span class="s1">&#39;</span><span class="w">          </span><span class="c1">// indicates agent [93.1B]</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">        </span><span class="ow">delete</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">    </span><span class="kr">define</span><span class="w"> </span><span class="n">i_plural</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span><span class="w">            </span><span class="c1">// [26]</span>
<span class="w">        </span><span class="ow">setlimit</span><span class="w"> </span><span class="ow">tomark</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="ow">for</span><span class="w"> </span><span class="p">(</span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="p">)</span>
<span class="w">        </span><span class="kr">among</span><span class="p">(</span>
<span class="w">            </span><span class="s1">&#39;i&#39;</span><span class="w">  </span><span class="s1">&#39;j&#39;</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">        </span><span class="ow">delete</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">    </span><span class="kr">define</span><span class="w"> </span><span class="n">t_plural</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span><span class="w">            </span><span class="c1">// [26]</span>
<span class="w">        </span><span class="ow">setlimit</span><span class="w"> </span><span class="ow">tomark</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="ow">for</span><span class="w"> </span><span class="p">(</span>
<span class="w">            </span><span class="o">[</span><span class="s1">&#39;t&#39;</span><span class="o">]</span><span class="w"> </span><span class="ow">test</span><span class="w"> </span><span class="n">V1</span>
<span class="w">            </span><span class="ow">delete</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">        </span><span class="ow">setlimit</span><span class="w"> </span><span class="ow">tomark</span><span class="w"> </span><span class="n">p2</span><span class="w"> </span><span class="ow">for</span><span class="w"> </span><span class="p">(</span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="p">)</span>
<span class="w">        </span><span class="kr">among</span><span class="p">(</span>
<span class="w">            </span><span class="s1">&#39;mma&#39;</span><span class="w"> </span><span class="p">(</span><span class="ow">not</span><span class="w"> </span><span class="s1">&#39;po&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">//-mmat endings</span>
<span class="w">            </span><span class="s1">&#39;imma&#39;</span><span class="w">           </span><span class="c1">//-immat endings</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">        </span><span class="ow">delete</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">    </span><span class="kr">define</span><span class="w"> </span><span class="n">tidy</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="ow">setlimit</span><span class="w"> </span><span class="ow">tomark</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="ow">for</span><span class="w"> </span><span class="p">(</span>
<span class="w">            </span><span class="ow">do</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">LONG</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="p">(</span><span class="o">[</span><span class="ow">next</span><span class="o">]</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="c1">// undouble vowel</span>
<span class="w">            </span><span class="ow">do</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">[</span><span class="n">AEI</span><span class="o">]</span><span class="w"> </span><span class="n">C</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="c1">// remove trailing a, a&quot;, e, i</span>
<span class="w">            </span><span class="ow">do</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">[</span><span class="s1">&#39;j&#39;</span><span class="o">]</span><span class="w"> </span><span class="s1">&#39;o&#39;</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s1">&#39;u&#39;</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="p">)</span>
<span class="w">            </span><span class="ow">do</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">[</span><span class="s1">&#39;o&#39;</span><span class="o">]</span><span class="w"> </span><span class="s1">&#39;j&#39;</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="p">)</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">        </span><span class="ow">goto</span><span class="w"> </span><span class="ow">non</span><span class="o">-</span><span class="n">V1</span><span class="w"> </span><span class="o">[</span><span class="n">C</span><span class="o">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">x</span><span class="w">  </span><span class="n">x</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="c1">// undouble consonant</span>
<span class="w">    </span><span class="p">)</span>
<span class="p">)</span>

<span class="kr">define</span><span class="w"> </span><span class="n">stem</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>

<span class="w">    </span><span class="ow">do</span><span class="w"> </span><span class="n">mark_regions</span>
<span class="w">    </span><span class="ow">unset</span><span class="w"> </span><span class="n">ending_removed</span>
<span class="w">    </span><span class="ow">backwards</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="ow">do</span><span class="w"> </span><span class="n">particle_etc</span>
<span class="w">        </span><span class="ow">do</span><span class="w"> </span><span class="n">possessive</span>
<span class="w">        </span><span class="ow">do</span><span class="w"> </span><span class="n">case_ending</span>
<span class="w">        </span><span class="ow">do</span><span class="w"> </span><span class="n">other_endings</span>
<span class="w">        </span><span class="p">(</span><span class="n">ending_removed</span><span class="w"> </span><span class="ow">do</span><span class="w"> </span><span class="n">i_plural</span><span class="p">)</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">do</span><span class="w"> </span><span class="n">t_plural</span>
<span class="w">        </span><span class="ow">do</span><span class="w"> </span><span class="n">tidy</span>
<span class="w">    </span><span class="p">)</span>
<span class="p">)</span>
</pre></div>


        </div><!-- /.col-lg-10 -->
      </div><!-- /.row -->
    </div><!-- /.container -->

    <div class="container">
      <footer class="footer">
        <p>
          <a href="/lists.html">Write to our mailing list</a> if you have comments or questions about the project.
        </p>
      </footer>
    </div> <!-- /container -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  </body>
</html>
