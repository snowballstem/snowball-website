<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="/favicon.ico">
    <title>Danish stemming algorithm - Snowball</title>
    <link href="https://cdn.jsdelivr.net/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
    <link href="/styles.css" rel="stylesheet">
    <!--[if lt IE 9]>
      <script src="https://cdn.jsdelivr.net/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://cdn.jsdelivr.net/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <!-- Static navbar -->
    <nav class="navbar navbar-default navbar-static-top bg-light">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a href="/" class="float-left"><img src="/snub-dodecahedron.gif" alt="Snowball Logo" style="margin: 4px; height: 42px;"></a>
          <a class="navbar-brand" href="/">Snowball</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="/">Home</a></li>
            <li><a href="/credits.html">Credits</a></li>
          </ul>
	  <span id="forkongithub"><a href="https://github.com/snowballstem/snowball">Fork me on GitHub</a></span>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">
      <div class="row">
        <div class="col-lg-2">
          
        </div>
        <div class="col-lg-10">
          <h1>Danish stemming algorithm</h1>

<h2>Links to resources</h2>

<ul>
<li> <a HREF="/algorithms/scandinavian.html">Scandinavian language stemmers</a>
<li> <a href="/demo.html#Danish">Javascript demo</a></li>
<li> <a href="https://raw.githubusercontent.com/snowballstem/snowball/master/algorithms/danish.sbl">The stemmer in Snowball</a></li>
<li> <a href="https://raw.githubusercontent.com/snowballstem/snowball-data/master/danish/voc.txt">Sample Danish vocabulary</a></li>
<li> <a href="https://raw.githubusercontent.com/snowballstem/snowball-data/master/danish/output.txt">Its stemmed equivalent</a></li>
<li> <a href="stop.txt">Danish stop word list (UTF-8 encoding)</a>
</ul>

<p>
Here is a sample of Danish vocabulary, with the stemmed forms that will be generated by this algorithm:
</p>

<div style="background-color:lightpink">
<TABLE CELLPADDING=0>
<TR><TD>  <B>word</B> </TD>
 <TD></TD><TD> </TD>
 <TD></TD><TD> <B>stem</B> </TD>
 <TD></TD><TD>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
 <TD></TD><TD> <B>word</B> </TD>
 <TD></TD><TD> </TD>
 <TD></TD><TD> <B>stem</B> </TD>
</TR>

<TR><TD>
indtage<BR>
indtagelse<BR>
indtager<BR>
indtages<BR>
indtaget<BR>
indtil<BR>
indtog<BR>
indtraf<BR>
indtryk<BR>
indtræde<BR>
indtræder<BR>
indtræffe<BR>
indtræffer<BR>
indtrængende<BR>
indtægt<BR>
indtægter<BR>
indvandrede<BR>
indvandret<BR>
indvender<BR>
indvendig<BR>
indvendige<BR>
indvendigt<BR>
indvending<BR>
indvendingerne<BR>
indvie<BR>
indviede<BR>
indvielse<BR>
indvielsen<BR>
indvielsesløfte<BR>
indvielsestid<BR>
indvier<BR>
indvies<BR>
indviet<BR>
indvikle<BR>
indvikler<BR>
indvolde<BR>
indvoldene<BR>
indvortes<BR>
indånde<BR>
indåndede<BR>
</TD>
<TD></TD><TD> <b>&#x21d2;</b> </TD>
<TD></TD><TD>
indtag<BR>
indtag<BR>
indtag<BR>
indtag<BR>
indtag<BR>
indtil<BR>
indtog<BR>
indtraf<BR>
indtryk<BR>
indtræd<BR>
indtræd<BR>
indtræf<BR>
indtræf<BR>
indtræng<BR>
indtæg<BR>
indtæg<BR>
indvandred<BR>
indvandr<BR>
indvend<BR>
indvend<BR>
indvend<BR>
indvend<BR>
indvending<BR>
indvending<BR>
indvi<BR>
indvied<BR>
indvi<BR>
indvi<BR>
indvielsesløft<BR>
indvielsestid<BR>
indvi<BR>
indvi<BR>
indvi<BR>
indvikl<BR>
indvikl<BR>
indvold<BR>
indvold<BR>
indvort<BR>
indånd<BR>
indånded<BR>
</TD>
<TD></TD><TD> </TD>
<TD></TD><TD>
underste<BR>
undersåtter<BR>
undersåtters<BR>
undersøg<BR>
undersøge<BR>
undersøgelse<BR>
undersøgelsen<BR>
undersøger<BR>
undersøgt<BR>
undersøgte<BR>
undertryk<BR>
undertrykke<BR>
undertrykkelse<BR>
undertrykker<BR>
undertrykkere<BR>
undertrykkeren<BR>
undertrykkerens<BR>
undertrykkeres<BR>
undertrykkes<BR>
undertrykt<BR>
undertrykte<BR>
undertryktes<BR>
undertvang<BR>
undertvunget<BR>
undertvungne<BR>
undervejs<BR>
underverdenen<BR>
undervise<BR>
underviser<BR>
undervises<BR>
undervisning<BR>
undervisningen<BR>
undervist<BR>
underviste<BR>
underværk<BR>
underværker<BR>
undevise<BR>
undeviste<BR>
undfange<BR>
undfanged<BR>
</TD>
<TD></TD><TD> <b>&#x21d2;</b> </TD>
<TD></TD><TD>
underst<BR>
undersåt<BR>
undersåt<BR>
undersøg<BR>
undersøg<BR>
undersøg<BR>
undersøg<BR>
undersøg<BR>
undersøg<BR>
undersøg<BR>
undertryk<BR>
undertryk<BR>
undertryk<BR>
undertryk<BR>
undertryk<BR>
undertryk<BR>
undertryk<BR>
undertryk<BR>
undertryk<BR>
undertryk<BR>
undertryk<BR>
undertryk<BR>
undertvang<BR>
undertvung<BR>
undertvungn<BR>
undervej<BR>
underverden<BR>
undervis<BR>
undervis<BR>
undervis<BR>
undervisning<BR>
undervisning<BR>
undervist<BR>
undervist<BR>
underværk<BR>
underværk<BR>
undevis<BR>
undevist<BR>
undfang<BR>
undfanged<BR>
</TD>
</TR>
</TABLE>
</div>

<h2>The stemming algorithm</h2>

<p>
The Danish alphabet includes the following additional letters,
</p>

<DL><DD>
    <B><I>æ  &nbsp;  å  &nbsp;  ø</I></B>
</DL>

<p>
The following letters are vowels:
</p>

<DL><DD>
    <B><I>a  &nbsp;  e  &nbsp;  i  &nbsp;  o  &nbsp;  u  &nbsp;  y  &nbsp;  æ  &nbsp;  å  &nbsp;  ø</I></B>
</DL>

<p>
A consonant is defined as a character from ASCII a-z which isn't a vowel
(originally this was "A consonant is defined as a non-vowel" but since
2018-11-15 we've changed this definition to avoid the stemmer altering
alphanumeric codes which end with a repeated digit).
</p>

<p>
<I>R</I>2 is not used: <I>R</I>1 is defined in the same way as in the
<A HREF="../german/stemmer.html">German stemmer</A>.
(See the <A HREF="../../texts/r1r2.html"> note</A> on <I>R</I>1 and <I>R</I>2.)
</p>

<p>
Define a valid <B><I>s</I></B>-ending as one of
</p>

<DL><DD>
<B><I>a  &nbsp;  b  &nbsp;  c  &nbsp;  d  &nbsp;  f  &nbsp;  g  &nbsp;  h  &nbsp;  j  &nbsp;  k  &nbsp;  l  &nbsp;  m  &nbsp;  n  &nbsp;  o  &nbsp;  p  &nbsp;  r
 &nbsp;  t  &nbsp;  v  &nbsp;  y  &nbsp;  z  &nbsp;  å</I></B>
</DL>

<p>
Do each of steps 1, 2, 3 and 4.
</p>

<p>
Step 1:
</p>
<DL><DD>
    <p>
    Search for the longest among the following suffixes in <I>R</I>1, and
    perform the action indicated.
    </p>
    <DL>
        <DT>(<I>a</I>)
            <B><I>hed  &nbsp;  ethed  &nbsp;  ered  &nbsp;  e  &nbsp;  erede  &nbsp;  ende  &nbsp;  erende  &nbsp;  ene
             &nbsp;  erne  &nbsp;  ere  &nbsp;  en  &nbsp;  heden  &nbsp;  eren  &nbsp;  er  &nbsp;  heder  &nbsp;  erer
             &nbsp;  heds  &nbsp;  es  &nbsp;  endes  &nbsp;  erendes  &nbsp;  enes  &nbsp;  ernes  &nbsp;  eres  &nbsp;
            ens  &nbsp;  hedens  &nbsp;  erens  &nbsp;  ers  &nbsp;  ets  &nbsp;  erets  &nbsp;  et  &nbsp;  eret</I></B>
                <DD>delete
        <DT>(<I>b</I>)
            <B><I>s</I></B>
                <DD>delete if preceded by a valid <B><I>s</I></B>-ending
</DL>
<p>
    (Note that only the suffix needs to be in <I>R</I>1, the letter of the
    valid <B><I>s</I></B>-ending is not required to be.)
</p>
</DL>

<p>
Step 2:
</p>
<DL><DD>
    <p>
    Search for one of the following suffixes in <I>R</I>1, and if found
    delete the last letter.
    </p>
    <DL><DD>
        <B><I>gd  &nbsp;  dt  &nbsp;  gt  &nbsp;  kt</I></B>
    </DL>
    (For example, <I>friskt</I> &#x2192; <I>frisk</I>)
</DL>

Step 3:
<DL><DD>
    <p>
    If the word ends <B><I>igst</I></B>, remove the final <B><I>st</I></B>.
    </p>

    <p>
    Search for the longest among the following suffixes in <I>R</I>1, and
    perform the action indicated.
    </p>
<DL>
    <DT>(<I>a</I>)
    <B><I>ig  &nbsp;  lig  &nbsp;  elig  &nbsp;  els</I></B>
        <DD>delete, and then repeat step 2
    <DT>(<I>b</I>)
    <B><I>løst</I></B>
        <DD>replace with <B><I>løs</I></B>
</DL>
</DL>

Step 4: undouble
<DL><DD>
    <p>
    If the word ends with double consonant in <I>R</I>1, remove one of the
    consonants.
    </p>

    <p>
    (For example, <I>bestemmelse</I> &#x2192; <I>bestemmels</I> (step 1)
    &#x2192; <I>bestemm</I> (step 3<I>a</I>)
    &#x2192; <I>bestem</I> in this step.)
    </p>
</DL>

<h2>The same algorithm in Snowball</h2>

<div class="highlight"><pre><span class="kr">routines</span><span class="w"> </span><span class="p">(</span>
<span class="w">           </span><span class="n">mark_regions</span>
<span class="w">           </span><span class="n">main_suffix</span>
<span class="w">           </span><span class="n">consonant_pair</span>
<span class="w">           </span><span class="n">other_suffix</span>
<span class="w">           </span><span class="n">undouble</span>
<span class="p">)</span>

<span class="kr">externals</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">stem</span><span class="w"> </span><span class="p">)</span>

<span class="kr">strings</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="p">)</span>

<span class="kr">integers</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">)</span>

<span class="kr">groupings</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">s_ending</span><span class="w"> </span><span class="p">)</span>

<span class="kr">stringescapes</span><span class="w"> </span><span class="se">{}</span>

<span class="cm">/* special characters */</span>

<span class="kr">stringdef</span><span class="w"> </span><span class="se">ae</span><span class="w">   </span><span class="s1">&#39;</span><span class="se">{U+00E6}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">ao</span><span class="w">   </span><span class="s1">&#39;</span><span class="se">{U+00E5}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">o/</span><span class="w">   </span><span class="s1">&#39;</span><span class="se">{U+00F8}</span><span class="s1">&#39;</span>

<span class="kr">define</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="s1">&#39;bcdfghjklmnpqrstvwxz&#39;</span>

<span class="kr">define</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="s1">&#39;aeiouy</span><span class="se">{ae}{ao}{o/}</span><span class="s1">&#39;</span>

<span class="kr">define</span><span class="w"> </span><span class="n">s_ending</span><span class="w">  </span><span class="s1">&#39;abcdfghjklmnoprtvyz</span><span class="se">{ao}</span><span class="s1">&#39;</span>

<span class="kr">define</span><span class="w"> </span><span class="n">mark_regions</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>

<span class="w">    </span><span class="o">$</span><span class="n">p1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">limit</span>

<span class="w">    </span><span class="ow">test</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="ow">hop</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="ow">setmark</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">)</span>
<span class="w">    </span><span class="ow">gopast</span><span class="w"> </span><span class="n">v</span><span class="w">  </span><span class="ow">gopast</span><span class="w"> </span><span class="ow">non</span><span class="o">-</span><span class="n">v</span><span class="w">  </span><span class="ow">setmark</span><span class="w"> </span><span class="n">p1</span>
<span class="w">    </span><span class="ow">try</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">$</span><span class="n">p1</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">x</span><span class="w">  </span><span class="o">$</span><span class="n">p1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">)</span>
<span class="p">)</span>

<span class="kr">backwardmode</span><span class="w"> </span><span class="p">(</span>

<span class="w">    </span><span class="kr">define</span><span class="w"> </span><span class="n">main_suffix</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="ow">setlimit</span><span class="w"> </span><span class="ow">tomark</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="ow">for</span><span class="w"> </span><span class="p">(</span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="p">)</span>
<span class="w">        </span><span class="kr">among</span><span class="p">(</span>

<span class="w">            </span><span class="s1">&#39;hed&#39;</span><span class="w"> </span><span class="s1">&#39;ethed&#39;</span><span class="w"> </span><span class="s1">&#39;ered&#39;</span><span class="w"> </span><span class="s1">&#39;e&#39;</span><span class="w"> </span><span class="s1">&#39;erede&#39;</span><span class="w"> </span><span class="s1">&#39;ende&#39;</span><span class="w"> </span><span class="s1">&#39;erende&#39;</span><span class="w"> </span><span class="s1">&#39;ene&#39;</span><span class="w"> </span><span class="s1">&#39;erne&#39;</span><span class="w"> </span><span class="s1">&#39;ere&#39;</span>
<span class="w">            </span><span class="s1">&#39;en&#39;</span><span class="w"> </span><span class="s1">&#39;heden&#39;</span><span class="w"> </span><span class="s1">&#39;eren&#39;</span><span class="w"> </span><span class="s1">&#39;er&#39;</span><span class="w"> </span><span class="s1">&#39;heder&#39;</span><span class="w"> </span><span class="s1">&#39;erer&#39;</span><span class="w"> </span><span class="s1">&#39;heds&#39;</span><span class="w"> </span><span class="s1">&#39;es&#39;</span><span class="w"> </span><span class="s1">&#39;endes&#39;</span>
<span class="w">            </span><span class="s1">&#39;erendes&#39;</span><span class="w"> </span><span class="s1">&#39;enes&#39;</span><span class="w"> </span><span class="s1">&#39;ernes&#39;</span><span class="w"> </span><span class="s1">&#39;eres&#39;</span><span class="w"> </span><span class="s1">&#39;ens&#39;</span><span class="w"> </span><span class="s1">&#39;hedens&#39;</span><span class="w"> </span><span class="s1">&#39;erens&#39;</span><span class="w"> </span><span class="s1">&#39;ers&#39;</span><span class="w"> </span><span class="s1">&#39;ets&#39;</span>
<span class="w">            </span><span class="s1">&#39;erets&#39;</span><span class="w"> </span><span class="s1">&#39;et&#39;</span><span class="w"> </span><span class="s1">&#39;eret&#39;</span>
<span class="w">                </span><span class="p">(</span><span class="ow">delete</span><span class="p">)</span>
<span class="w">            </span><span class="s1">&#39;s&#39;</span>
<span class="w">                </span><span class="p">(</span><span class="n">s_ending</span><span class="w"> </span><span class="ow">delete</span><span class="p">)</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>

<span class="w">    </span><span class="kr">define</span><span class="w"> </span><span class="n">consonant_pair</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="ow">test</span><span class="w"> </span><span class="p">(</span>
<span class="w">            </span><span class="ow">setlimit</span><span class="w"> </span><span class="ow">tomark</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="ow">for</span><span class="w"> </span><span class="p">(</span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="p">)</span>
<span class="w">            </span><span class="kr">among</span><span class="p">(</span>
<span class="w">                </span><span class="s1">&#39;gd&#39;</span><span class="w"> </span><span class="c1">// significant in the call from other_suffix</span>
<span class="w">                </span><span class="s1">&#39;dt&#39;</span><span class="w"> </span><span class="s1">&#39;gt&#39;</span><span class="w"> </span><span class="s1">&#39;kt&#39;</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">        </span><span class="ow">next</span><span class="o">]</span><span class="w"> </span><span class="ow">delete</span>
<span class="w">    </span><span class="p">)</span>

<span class="w">    </span><span class="kr">define</span><span class="w"> </span><span class="n">other_suffix</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="ow">do</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">[</span><span class="s1">&#39;st&#39;</span><span class="o">]</span><span class="w"> </span><span class="s1">&#39;ig&#39;</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="p">)</span>
<span class="w">        </span><span class="ow">setlimit</span><span class="w"> </span><span class="ow">tomark</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="ow">for</span><span class="w"> </span><span class="p">(</span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="p">)</span>
<span class="w">        </span><span class="kr">among</span><span class="p">(</span>
<span class="w">            </span><span class="s1">&#39;ig&#39;</span><span class="w"> </span><span class="s1">&#39;lig&#39;</span><span class="w"> </span><span class="s1">&#39;elig&#39;</span><span class="w"> </span><span class="s1">&#39;els&#39;</span>
<span class="w">                </span><span class="p">(</span><span class="ow">delete</span><span class="w"> </span><span class="ow">do</span><span class="w"> </span><span class="n">consonant_pair</span><span class="p">)</span>
<span class="w">            </span><span class="s1">&#39;l</span><span class="se">{o/}</span><span class="s1">st&#39;</span>
<span class="w">                </span><span class="p">(</span><span class="o">&lt;-</span><span class="s1">&#39;l</span><span class="se">{o/}</span><span class="s1">s&#39;</span><span class="p">)</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">    </span><span class="kr">define</span><span class="w"> </span><span class="n">undouble</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="ow">setlimit</span><span class="w"> </span><span class="ow">tomark</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="ow">for</span><span class="w"> </span><span class="p">(</span><span class="o">[</span><span class="n">c</span><span class="o">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="n">ch</span><span class="p">)</span>
<span class="w">        </span><span class="n">ch</span>
<span class="w">        </span><span class="ow">delete</span>
<span class="w">    </span><span class="p">)</span>
<span class="p">)</span>

<span class="kr">define</span><span class="w"> </span><span class="n">stem</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>

<span class="w">    </span><span class="ow">do</span><span class="w"> </span><span class="n">mark_regions</span>
<span class="w">    </span><span class="ow">backwards</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="ow">do</span><span class="w"> </span><span class="n">main_suffix</span>
<span class="w">        </span><span class="ow">do</span><span class="w"> </span><span class="n">consonant_pair</span>
<span class="w">        </span><span class="ow">do</span><span class="w"> </span><span class="n">other_suffix</span>
<span class="w">        </span><span class="ow">do</span><span class="w"> </span><span class="n">undouble</span>
<span class="w">    </span><span class="p">)</span>
<span class="p">)</span>
</pre></div>


        </div><!-- /.col-lg-10 -->
      </div><!-- /.row -->
    </div><!-- /.container -->

    <div class="container">
      <footer class="footer">
        <p>
          <a href="/lists.html">Write to our mailing list</a> if you have comments or questions about the project.
        </p>
      </footer>
    </div> <!-- /container -->
    <script src="https://cdn.jsdelivr.net/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/bootstrap/4.4.1/js/bootstrap.min.js"></script>
  </body>
</html>
