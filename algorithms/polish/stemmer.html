<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="/favicon.ico">
    <title>Polish stemming algorithm - Snowball</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link href="/styles.css" rel="stylesheet">
  </head>

  <body>

    <!-- Static navbar -->
    <nav class="navbar navbar-light bg-light navbar-static-top">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand float-left" href="/"><img src="/snub-dodecahedron.gif" alt="Snowball Logo" style="margin: 4px; height: 42px;"> Snowball</a>
          <span id="forkongithub"><a href="https://github.com/snowballstem/snowball">Fork me on GitHub</a></span>
        </div>
      </div>
    </nav>

    <div class="container">
      <div class="row">
        <div class="col-lg-2">
          
        </div>
        <div class="col-lg-10">
          <h1>Polish stemming algorithm</h1>


<h2>Links to resources</h2>

<ul>
<li> <a href="https://en.wikipedia.org/wiki/Polish_language">Polish language</a> on Wikipedia</li>
<li><a href="https://github.com/Tutanchamon/pl_stemmer">Another Polish stemmer, written in Python</a></li>
</ul>

<p>
Here is a sample of Polish vocabulary, with the stemmed forms that will be
generated by this algorithm:
</p>

<p>
Here is a sample of Polish vocabulary, with the stemmed forms that will be generated by this algorithm:
</p>

<div style="background-color:lightpink">
<TABLE CELLPADDING=0>
<TR><TD>  <B>word</B> </TD>
 <TD></TD><TD> </TD>
 <TD></TD><TD> <B>stem</B> </TD>
 <TD></TD><TD>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
 <TD></TD><TD> <B>word</B> </TD>
 <TD></TD><TD> </TD>
 <TD></TD><TD> <B>stem</B> </TD>
</TR>

<TR><TD>
aktualizacja<BR>
aktualizacją<BR>
aktualizacje<BR>
aktualizację<BR>
aktualizacji<BR>
aktualizowane<BR>
aktualizowanie<BR>
aktualizuj<BR>
aktualna<BR>
aktualną<BR>
aktualne<BR>
aktualnego<BR>
aktualnej<BR>
aktualnie<BR>
aktualny<BR>
aktualnych<BR>
aktualnym<BR>
aktualnymi<BR>
akty<BR>
aktywa<BR>
</TD>
<TD></TD><TD> <b>&#x21d2;</b> </TD>
<TD></TD><TD>
aktualizacj<BR>
aktualizacj<BR>
aktualizacj<BR>
aktualizacj<BR>
aktualizacj<BR>
aktualizowan<BR>
aktualizowan<BR>
aktualizuj<BR>
aktualn<BR>
aktualn<BR>
aktualn<BR>
aktualn<BR>
aktualn<BR>
aktualn<BR>
aktualn<BR>
aktualn<BR>
aktualn<BR>
aktualn<BR>
akt<BR>
aktyw<BR>
</TD>
<TD></TD><TD> </TD>
<TD></TD><TD>
kwiecień<BR>
kwiecińskiego<BR>
kwietna<BR>
kwietną<BR>
kwietne<BR>
kwietnej<BR>
kwietnia<BR>
kwietników<BR>
kwietniowego<BR>
kwietniowych<BR>
kwietniu<BR>
kwietnych<BR>
kwintesencję<BR>
kwitkiem<BR>
kwitła<BR>
kwitną<BR>
kwitnąć<BR>
kwitnącą<BR>
kwitnące<BR>
kwitnie<BR>
</TD>
<TD></TD><TD> <b>&#x21d2;</b> </TD>
<TD></TD><TD>
kwiecien<BR>
kwiecińsk<BR>
kwietn<BR>
kwietn<BR>
kwietn<BR>
kwietn<BR>
kwietn<BR>
kwietnik<BR>
kwietniow<BR>
kwietniow<BR>
kwietn<BR>
kwietn<BR>
kwintesencj<BR>
kwitk<BR>
kwitł<BR>
kwitn<BR>
kwitn<BR>
kwitn<BR>
kwitn<BR>
kwitn<BR>
</TD>
</TR>
</TABLE>
</div>

<h2>The stemming algorithm</h2>

<p>
The Polish alphabet includes the following additional letters:
<i>ą</i>, <i>ć</i>, <i>ę</i>, <i>ł</i>, <i>ń</i>, <i>ó</i>, <i>ś</i>, <i>ź</i>,
and <i>ż</i>.
</p>

<p>
Like most of the other Slavic languages, Polish is a heavily inflected and
conjugated language, and has multiple patterns for both nouns and verbs, which
means there are many possible <I>i</I>-suffixes. In this situation, for words
that have both an <I>i</I>-suffix and a <I>d</I>-suffix, trying to remove both
would result in many combinations of suffixes and inevitably there will be many
false positive removals (part of the root may be removed). Because of that,
this stemmer focuses on removing <I>i</I>-suffixes and leaves <I>d</I>-suffixes
untouched.
<p>

<p>
Polish also has an inflectional prefix, <i>naj-</i>, that forms superlative
forms of adjectives. Removing it is currently not implemented.
</p>

<p>
The algorithm consists of the following steps.
</p>

<h3>Step 1. Mark regions</h3>

<p>
In any word, <i>R</i>1 is the region after the first non-vowel following a
vowel, or the end of the word if there is no such non-vowel.
</p>

<p>
For example:
</p>

<pre>
k s i ę g a r n i a
         |&lt;-  R1 -&gt;|
</pre>

<p>
(See <A HREF="../../texts/r1r2.html">note</A> on <i>R</i>1.)
</p>

<h3>Step 2. Remove common endings</h3>

<p>
First, remove the following endings if they are entirely in the <i>R</i>1
region: <i>bym</i>, <i>byś</i>, <i>byśmy</i>, <i>byście</i>, <i>by</i>.
These endings correspond to the conditional forms of the verbs, e.g.
<i>czytałbym</i>.
</p>

<p>
After that, remove the following three kinds of the endings.
</p>

<ol>
<li><strong>Verbal endings.</strong> Remove common infinitive endings (e.g.
<i>ać</i>, <i>ieć</i>), endings for present and future tense: second person
singular (e.g. <i>asz</i>) and all persons plural (e.g. <i>amy</i>,
<i>acie</i>, <i>ają</i>), endings for past tense (e.g. <i>ałem</i>,
<i>ali</i>), and some imperative endings (<i>aj</i>, <i>cie</i>).</li>

<li><strong>Adjectival endings.</strong> This includes endings for real
adjectives and for participles. Remove common inflectional suffixes
(<i>ego</i>, <i>emu</i> and others), and if a derivational suffix of a
participle (e.g. <i>ąc</i>) or of a comparative or superlative form
(<i>sz</i>, <i>iejsz</i>) precedes it, remove it too.

One-vowel adjectival endings such as <i>ą</i> and <i>e</i> can appear in too
many different contexts, so they are removed only if preceded by a known
derivational suffix.</li>

<li><strong>Noun endings.</strong> Remove common noun endings, including
one-letter ones like <i>a</i> and <i>o</i> or longer ones like <i>owi</i>
and <i>ach</i>, but excluding endings that were already handled above.
This is done only if the ending is entirely in the <i>R</i>1 region.</li>
</ol>

<h3>Step 3. Normalize ending consonant</h3>

<p>
Remove the kreska mark from the letters <i>ć</i>, <i>ń</i>, <i>ś</i> and
<i>ź</i>, i.e. replace them with <i>c</i>, <i>n</i>, <i>s</i> and <i>z</i>.
This is done because in oblique cases, when an inflectional suffix is added
to the word, the kreska mark is not written (e.g. nominative <i>miłość</i>
but genitive <i>miłości</i>).
</p>

<p>
See the Snowball implementation of the stemmer below for the full lists of
suffixes.
</p>

<div class="highlight"><pre><span class="cm">/* Polish stemmer. Author: Dmitry Shachnev */</span>

<span class="kr">stringescapes</span><span class="w"> </span><span class="se">{}</span>

<span class="kr">stringdef</span><span class="w"> </span><span class="se">ak</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{U+0105}</span><span class="s1">&#39;</span><span class="w"> </span><span class="c1">// ą a + ogonek</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">ek</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{U+0119}</span><span class="s1">&#39;</span><span class="w"> </span><span class="c1">// ę e + ogonek</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">l/</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{U+0142}</span><span class="s1">&#39;</span><span class="w"> </span><span class="c1">// ł l + stroke</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">c&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{U+0107}</span><span class="s1">&#39;</span><span class="w"> </span><span class="c1">// ć c + acute (kreska)</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">n&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{U+0144}</span><span class="s1">&#39;</span><span class="w"> </span><span class="c1">// ń n + acute (kreska)</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">o&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{U+00f3}</span><span class="s1">&#39;</span><span class="w"> </span><span class="c1">// ó o + acute (kreska)</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">s&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{U+015b}</span><span class="s1">&#39;</span><span class="w"> </span><span class="c1">// ś s + acute (kreska)</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">z&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{U+017a}</span><span class="s1">&#39;</span><span class="w"> </span><span class="c1">// ź z + acute (kreska)</span>


<span class="kr">externals</span><span class="w"> </span><span class="p">(</span><span class="n">stem</span><span class="p">)</span>


<span class="kr">routines</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">mark_regions</span>
<span class="w">  </span><span class="n">remove_endings</span>
<span class="w">  </span><span class="n">normalize_consonant</span>
<span class="w">  </span><span class="n">R1</span>
<span class="p">)</span>

<span class="kr">integers</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="p">)</span>

<span class="kr">groupings</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="p">)</span>

<span class="kr">define</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="s1">&#39;a</span><span class="se">{ak}</span><span class="s1">e</span><span class="se">{ek}</span><span class="s1">io</span><span class="se">{o&#39;}</span><span class="s1">uy&#39;</span>


<span class="kr">define</span><span class="w"> </span><span class="n">mark_regions</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="o">$</span><span class="n">p1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">limit</span>
<span class="w">  </span><span class="ow">gopast</span><span class="w"> </span><span class="n">v</span>
<span class="w">  </span><span class="ow">gopast</span><span class="w"> </span><span class="ow">non</span><span class="o">-</span><span class="n">v</span><span class="w">  </span><span class="ow">setmark</span><span class="w"> </span><span class="n">p1</span>
<span class="p">)</span>

<span class="kr">backwardmode</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="kr">define</span><span class="w"> </span><span class="n">R1</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span><span class="o">$</span><span class="n">p1</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="nb">cursor</span><span class="p">)</span>

<span class="w">  </span><span class="kr">define</span><span class="w"> </span><span class="n">remove_endings</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="c1">// Verbs.</span>
<span class="w">    </span><span class="ow">do</span><span class="w"> </span><span class="p">(</span>
<span class="w">      </span><span class="ow">setlimit</span><span class="w"> </span><span class="ow">tomark</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="ow">for</span><span class="w"> </span><span class="p">(</span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="kr">among</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="c1">// conditionals:</span>
<span class="w">        </span><span class="s1">&#39;bym&#39;</span><span class="w">        </span><span class="c1">// 1st person singular (czytał(a)bym)</span>
<span class="w">        </span><span class="s1">&#39;by</span><span class="se">{s&#39;}</span><span class="s1">&#39;</span><span class="w">     </span><span class="c1">// 2nd person singular (czytał(a)byś)</span>
<span class="w">        </span><span class="s1">&#39;by</span><span class="se">{s&#39;}</span><span class="s1">my&#39;</span><span class="w">   </span><span class="c1">// 1st person plural (czytalibyśmy)</span>
<span class="w">        </span><span class="s1">&#39;by</span><span class="se">{s&#39;}</span><span class="s1">cie&#39;</span><span class="w">  </span><span class="c1">// 2nd person plural (czytalibyście)</span>
<span class="w">        </span><span class="s1">&#39;by&#39;</span><span class="w">         </span><span class="c1">// 3rd person singular/plural (czytał(a)by, czytaliby)</span>
<span class="w">          </span><span class="p">(</span><span class="ow">delete</span><span class="p">)</span>
<span class="w">      </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">    </span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="w"> </span><span class="kr">among</span><span class="w"> </span><span class="p">(</span>
<span class="w">      </span><span class="s1">&#39;asz&#39;</span><span class="w">  </span><span class="s1">&#39;esz&#39;</span><span class="w">  </span><span class="s1">&#39;isz&#39;</span><span class="w">  </span><span class="c1">// present 2nd person singular (czytasz, piszesz, nosisz)</span>
<span class="w">      </span><span class="s1">&#39;amy&#39;</span><span class="w">  </span><span class="s1">&#39;emy&#39;</span><span class="w">  </span><span class="s1">&#39;imy&#39;</span><span class="w">  </span><span class="c1">// present 1st person plural (czytamy, piszemy, nosimy)</span>
<span class="w">      </span><span class="s1">&#39;acie&#39;</span><span class="w"> </span><span class="s1">&#39;ecie&#39;</span><span class="w"> </span><span class="s1">&#39;icie&#39;</span><span class="w"> </span><span class="c1">// present 2nd person plural (czytacie, piszecie, nosicie)</span>
<span class="w">      </span><span class="s1">&#39;aj</span><span class="se">{ak}</span><span class="s1">&#39;</span><span class="w">             </span><span class="c1">// present 3rd person plural (czytają)</span>
<span class="w">      </span><span class="s1">&#39;e</span><span class="se">{s&#39;}{c&#39;}</span><span class="s1">&#39;</span><span class="w">          </span><span class="c1">// infinitive (przynieść)</span>
<span class="w">      </span><span class="s1">&#39;a</span><span class="se">{s&#39;}{c&#39;}</span><span class="s1">&#39;</span><span class="w">          </span><span class="c1">// infinitive (popaść)</span>
<span class="w">      </span><span class="s1">&#39;a</span><span class="se">{c&#39;}</span><span class="s1">&#39;</span><span class="w">              </span><span class="c1">// infinitive (czytać)</span>
<span class="w">      </span><span class="s1">&#39;ie</span><span class="se">{c&#39;}</span><span class="s1">&#39;</span><span class="w">             </span><span class="c1">// infinitive (lecieć)</span>
<span class="w">      </span><span class="s1">&#39;i</span><span class="se">{c&#39;}</span><span class="s1">&#39;</span><span class="w">              </span><span class="c1">// infinitive (wozić)</span>
<span class="w">      </span><span class="s1">&#39;</span><span class="se">{ak}{c&#39;}</span><span class="s1">&#39;</span><span class="w">           </span><span class="c1">// infinitive (marznąć)</span>
<span class="w">      </span><span class="s1">&#39;aj</span><span class="se">{ak}</span><span class="s1">c&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{ak}</span><span class="s1">c&#39;</span><span class="w">    </span><span class="c1">// contemporary adverbial participle (transgressive) (czytając, lecąc)</span>
<span class="w">      </span><span class="s1">&#39;a</span><span class="se">{l/}</span><span class="s1">em&#39;</span><span class="w">       </span><span class="s1">&#39;ia</span><span class="se">{l/}</span><span class="s1">em&#39;</span><span class="w">       </span><span class="s1">&#39;i</span><span class="se">{l/}</span><span class="s1">em&#39;</span><span class="w">       </span><span class="c1">// past 1st person singular masculine (czytałem, leciałem, chodziłem)</span>
<span class="w">      </span><span class="s1">&#39;a</span><span class="se">{l/}</span><span class="s1">am&#39;</span><span class="w">       </span><span class="s1">&#39;ia</span><span class="se">{l/}</span><span class="s1">am&#39;</span><span class="w">       </span><span class="s1">&#39;i</span><span class="se">{l/}</span><span class="s1">am&#39;</span><span class="w">  </span><span class="s1">&#39;am&#39;</span><span class="w"> </span><span class="c1">// past 1st person singular feminine (czytałam, leciałam, chodziłam, marzłam)</span>
<span class="w">      </span><span class="s1">&#39;a</span><span class="se">{l/}</span><span class="s1">e</span><span class="se">{s&#39;}</span><span class="s1">&#39;</span><span class="w">    </span><span class="s1">&#39;ia</span><span class="se">{l/}</span><span class="s1">e</span><span class="se">{s&#39;}</span><span class="s1">&#39;</span><span class="w">    </span><span class="s1">&#39;i</span><span class="se">{l/}</span><span class="s1">e</span><span class="se">{s&#39;}</span><span class="s1">&#39;</span><span class="w">    </span><span class="c1">// past 2nd person singular masculine (czytałeś, leciałeś, chodziłeś)</span>
<span class="w">      </span><span class="s1">&#39;a</span><span class="se">{l/}</span><span class="s1">a</span><span class="se">{s&#39;}</span><span class="s1">&#39;</span><span class="w">    </span><span class="s1">&#39;ia</span><span class="se">{l/}</span><span class="s1">a</span><span class="se">{s&#39;}</span><span class="s1">&#39;</span><span class="w">    </span><span class="s1">&#39;i</span><span class="se">{l/}</span><span class="s1">a</span><span class="se">{s&#39;}</span><span class="s1">&#39;</span><span class="w">    </span><span class="c1">// past 2nd person singular feminine (czytałaś, leciałaś, chodziłaś)</span>
<span class="w">      </span><span class="s1">&#39;a</span><span class="se">{l/}</span><span class="s1">&#39;</span><span class="w">         </span><span class="s1">&#39;ia</span><span class="se">{l/}</span><span class="s1">&#39;</span><span class="w">         </span><span class="s1">&#39;i</span><span class="se">{l/}</span><span class="s1">&#39;</span><span class="w">         </span><span class="c1">// past 3rd person singular masculine (czytał, leciał, chodził)</span>
<span class="w">      </span><span class="s1">&#39;a</span><span class="se">{l/}</span><span class="s1">a&#39;</span><span class="w">        </span><span class="s1">&#39;ia</span><span class="se">{l/}</span><span class="s1">a&#39;</span><span class="w">        </span><span class="s1">&#39;i</span><span class="se">{l/}</span><span class="s1">a&#39;</span><span class="w">        </span><span class="c1">// past 3rd person singular feminine (czytała, leciała, chodziła)</span>
<span class="w">      </span><span class="s1">&#39;a</span><span class="se">{l/}</span><span class="s1">o&#39;</span><span class="w">        </span><span class="s1">&#39;ia</span><span class="se">{l/}</span><span class="s1">o&#39;</span><span class="w">        </span><span class="s1">&#39;i</span><span class="se">{l/}</span><span class="s1">o&#39;</span><span class="w">        </span><span class="c1">// past 3rd person singular neuter (czytało, leciało, chodziło)</span>
<span class="w">      </span><span class="s1">&#39;ali</span><span class="se">{s&#39;}</span><span class="s1">my&#39;</span><span class="w">     </span><span class="s1">&#39;ieli</span><span class="se">{s&#39;}</span><span class="s1">my&#39;</span><span class="w">     </span><span class="s1">&#39;ili</span><span class="se">{s&#39;}</span><span class="s1">my&#39;</span><span class="w">     </span><span class="c1">// past 1st person plural virile (czytaliśmy, lecieliśmy, chodziliśmy)</span>
<span class="w">      </span><span class="s1">&#39;a</span><span class="se">{l/}</span><span class="s1">y</span><span class="se">{s&#39;}</span><span class="s1">my&#39;</span><span class="w">  </span><span class="s1">&#39;ia</span><span class="se">{l/}</span><span class="s1">y</span><span class="se">{s&#39;}</span><span class="s1">my&#39;</span><span class="w">  </span><span class="s1">&#39;i</span><span class="se">{l/}</span><span class="s1">y</span><span class="se">{s&#39;}</span><span class="s1">my&#39;</span><span class="w">  </span><span class="c1">// past 1st person plural nonvirile (czytałyśmy, leciałyśmy, chodziłyśmy)</span>
<span class="w">      </span><span class="s1">&#39;ali</span><span class="se">{s&#39;}</span><span class="s1">cie&#39;</span><span class="w">    </span><span class="s1">&#39;ieli</span><span class="se">{s&#39;}</span><span class="s1">cie&#39;</span><span class="w">    </span><span class="s1">&#39;ili</span><span class="se">{s&#39;}</span><span class="s1">cie&#39;</span><span class="w">    </span><span class="c1">// past 2nd person plural virile (czytaliście, lecieliście, chodziliście)</span>
<span class="w">      </span><span class="s1">&#39;a</span><span class="se">{l/}</span><span class="s1">y</span><span class="se">{s&#39;}</span><span class="s1">cie&#39;</span><span class="w"> </span><span class="s1">&#39;ia</span><span class="se">{l/}</span><span class="s1">y</span><span class="se">{s&#39;}</span><span class="s1">cie&#39;</span><span class="w"> </span><span class="s1">&#39;i</span><span class="se">{l/}</span><span class="s1">y</span><span class="se">{s&#39;}</span><span class="s1">cie&#39;</span><span class="w"> </span><span class="c1">// past 2nd person plural nonvirile (czytałyście, leciałyście, chodziłyście)</span>
<span class="w">      </span><span class="s1">&#39;ali&#39;</span><span class="w">           </span><span class="s1">&#39;ieli&#39;</span><span class="w">           </span><span class="s1">&#39;ili&#39;</span><span class="w">           </span><span class="c1">// past 3rd person plural virile (czytali, lecieli, chodzili)</span>
<span class="w">      </span><span class="s1">&#39;a</span><span class="se">{l/}</span><span class="s1">y&#39;</span><span class="w">        </span><span class="s1">&#39;ia</span><span class="se">{l/}</span><span class="s1">y&#39;</span><span class="w">        </span><span class="s1">&#39;i</span><span class="se">{l/}</span><span class="s1">y&#39;</span><span class="w">        </span><span class="c1">// past 3rd person plural nonvirile (czytały, leciały, chodziły)</span>
<span class="w">      </span><span class="s1">&#39;aj&#39;</span><span class="w">     </span><span class="c1">// imperative 2nd person singular (czytaj)</span>
<span class="w">      </span><span class="s1">&#39;ajcie&#39;</span><span class="w">  </span><span class="c1">// imperative 2nd person plural (czytajcie)</span>
<span class="w">      </span><span class="s1">&#39;cie&#39;</span><span class="w">    </span><span class="c1">// imperative 2nd person plural (chodźcie)</span>
<span class="w">      </span><span class="s1">&#39;</span><span class="se">{ek}</span><span class="s1">&#39;</span><span class="w">   </span><span class="c1">// present 1st person singular (lecę)</span>
<span class="w">        </span><span class="p">(</span><span class="ow">delete</span><span class="p">)</span>
<span class="w">      </span><span class="s1">&#39;sz</span><span class="se">{ek}</span><span class="s1">&#39;</span><span class="w"> </span><span class="c1">// present 1st person singular (noszę)</span>
<span class="w">        </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="w">      </span><span class="s1">&#39;sz</span><span class="se">{ak}</span><span class="s1">&#39;</span><span class="w"> </span><span class="c1">// present 3rd person plural (noszą)</span>
<span class="w">        </span><span class="c1">// Also an adjectival form (singular feminine accusative), e.g. lepszą.</span>
<span class="w">        </span><span class="c1">// This heuristic does the right thing in common cases.</span>
<span class="w">        </span><span class="p">(</span><span class="n">R1</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="o">&lt;-</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>

<span class="w">      </span><span class="c1">// There are short verbs whose root consists of only one consonant, e.g. być, żyć.</span>
<span class="w">      </span><span class="c1">// Stemming them to one letter would merge them with these letters used in other</span>
<span class="w">      </span><span class="c1">// contexts, which is undesirable. But let&#39;s at least merge all past tense forms</span>
<span class="w">      </span><span class="c1">// together, e.g. byłem, byłam, byłyśmy, etc. to był.</span>
<span class="w">      </span><span class="s1">&#39;</span><span class="se">{l/}</span><span class="s1">e</span><span class="se">{s&#39;}</span><span class="s1">&#39;</span>
<span class="w">      </span><span class="s1">&#39;</span><span class="se">{l/}</span><span class="s1">a</span><span class="se">{s&#39;}</span><span class="s1">&#39;</span>
<span class="w">      </span><span class="s1">&#39;li</span><span class="se">{s&#39;}</span><span class="s1">my&#39;</span>
<span class="w">      </span><span class="s1">&#39;</span><span class="se">{l/}</span><span class="s1">y</span><span class="se">{s&#39;}</span><span class="s1">my&#39;</span>
<span class="w">      </span><span class="s1">&#39;li</span><span class="se">{s&#39;}</span><span class="s1">cie&#39;</span>
<span class="w">      </span><span class="s1">&#39;</span><span class="se">{l/}</span><span class="s1">y</span><span class="se">{s&#39;}</span><span class="s1">cie&#39;</span>
<span class="w">        </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{l/}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="w">      </span><span class="c1">// Adjectives (including comparative/superlative forms)</span>
<span class="w">      </span><span class="c1">// as well as participles.</span>
<span class="w">      </span><span class="s1">&#39;y&#39;</span><span class="w">          </span><span class="c1">// singular masculine nominative (nowy)</span>
<span class="w">      </span><span class="s1">&#39;ego&#39;</span><span class="w"> </span><span class="s1">&#39;iego&#39;</span><span class="w"> </span><span class="c1">// singular masculine genitive (nowego, polskiego)</span>
<span class="w">      </span><span class="s1">&#39;emu&#39;</span><span class="w"> </span><span class="s1">&#39;iemu&#39;</span><span class="w"> </span><span class="c1">// singular masculine dative (nowemu, polskiemu)</span>
<span class="w">      </span><span class="s1">&#39;ym&#39;</span><span class="w">  </span><span class="s1">&#39;im&#39;</span><span class="w">   </span><span class="c1">// singular masculine instrumental (nowym, polskim)</span>
<span class="w">      </span><span class="s1">&#39;ej&#39;</span><span class="w">  </span><span class="s1">&#39;iej&#39;</span><span class="w">  </span><span class="c1">// singular feminine genitive (nowej, polskiej)</span>
<span class="w">      </span><span class="s1">&#39;ych&#39;</span><span class="w"> </span><span class="s1">&#39;ich&#39;</span><span class="w">  </span><span class="c1">// plural genitive (nowych, polskich)</span>
<span class="w">      </span><span class="s1">&#39;ymi&#39;</span><span class="w"> </span><span class="s1">&#39;imi&#39;</span><span class="w">  </span><span class="c1">// plural instrumental (nowymi, polskimi)</span>
<span class="w">        </span><span class="p">(</span>
<span class="w">          </span><span class="ow">delete</span>
<span class="w">          </span><span class="ow">try</span><span class="w"> </span><span class="p">(</span>
<span class="w">            </span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="w"> </span><span class="kr">among</span><span class="w"> </span><span class="p">(</span>
<span class="w">              </span><span class="s1">&#39;aj</span><span class="se">{ak}</span><span class="s1">c&#39;</span><span class="w">  </span><span class="c1">// participle suffix (czytający)</span>
<span class="w">              </span><span class="s1">&#39;</span><span class="se">{ak}</span><span class="s1">c&#39;</span><span class="w">    </span><span class="c1">// participle suffix (lecący)</span>
<span class="w">              </span><span class="s1">&#39;iejsz&#39;</span><span class="w">    </span><span class="c1">// comparative suffix (piękniejszy)</span>
<span class="w">              </span><span class="s1">&#39;sz&#39;</span><span class="w">       </span><span class="c1">// comparative suffix (lepszy)</span>
<span class="w">                </span><span class="p">(</span><span class="ow">delete</span><span class="p">)</span>
<span class="w">              </span><span class="s1">&#39;sz</span><span class="se">{ak}</span><span class="s1">c&#39;</span><span class="w">  </span><span class="c1">// participle suffix (noszący)</span>
<span class="w">                </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">          </span><span class="p">)</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">      </span><span class="c1">// We cannot remove endings like -ą and -e unconditionally, because these</span>
<span class="w">      </span><span class="c1">// letters appear in too many contexts. But we can safely remove them if we</span>
<span class="w">      </span><span class="c1">// know that our word is a participle or a comparative/superlative form.</span>
<span class="w">      </span><span class="s1">&#39;aj</span><span class="se">{ak}</span><span class="s1">ca&#39;</span><span class="w">    </span><span class="s1">&#39;</span><span class="se">{ak}</span><span class="s1">ca&#39;</span><span class="w">    </span><span class="s1">&#39;iejsza&#39;</span><span class="w">    </span><span class="s1">&#39;sza&#39;</span><span class="w">  </span><span class="c1">// singular feminine nominative (czytająca, lecąca, piękniejsza, lepsza)</span>
<span class="w">      </span><span class="s1">&#39;aj</span><span class="se">{ak}</span><span class="s1">c</span><span class="se">{ak}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{ak}</span><span class="s1">c</span><span class="se">{ak}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;iejsz</span><span class="se">{ak}</span><span class="s1">&#39;</span><span class="w">        </span><span class="c1">// singular feminine accusative (czytającą, lecącą, piękniejszą); -szą is handled separately</span>
<span class="w">      </span><span class="s1">&#39;aj</span><span class="se">{ak}</span><span class="s1">ce&#39;</span><span class="w">    </span><span class="s1">&#39;</span><span class="se">{ak}</span><span class="s1">ce&#39;</span><span class="w">    </span><span class="s1">&#39;iejsze&#39;</span><span class="w">    </span><span class="s1">&#39;sze&#39;</span><span class="w">  </span><span class="c1">// singular neuter nominative (czytające, lecące, piękniejsze, lepsze)</span>
<span class="w">        </span><span class="p">(</span><span class="ow">delete</span><span class="p">)</span>
<span class="w">      </span><span class="c1">// Handle participles like nosząca, prosząca.</span>
<span class="w">      </span><span class="s1">&#39;sz</span><span class="se">{ak}</span><span class="s1">ca&#39;</span>
<span class="w">      </span><span class="s1">&#39;sz</span><span class="se">{ak}</span><span class="s1">c</span><span class="se">{ak}</span><span class="s1">&#39;</span>
<span class="w">      </span><span class="s1">&#39;sz</span><span class="se">{ak}</span><span class="s1">ce&#39;</span>
<span class="w">        </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;s&#39;</span><span class="p">)</span>

<span class="w">      </span><span class="c1">// Noun forms (excluding endings that were already handled above).</span>
<span class="w">      </span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="n">R1</span><span class="w">  </span><span class="s1">&#39;o&#39;</span><span class="w"> </span><span class="n">R1</span><span class="w">                            </span><span class="c1">// singular nominative (książka, lato)</span>
<span class="w">      </span><span class="s1">&#39;i&#39;</span><span class="w"> </span><span class="n">R1</span><span class="w">  </span><span class="s1">&#39;u&#39;</span><span class="w"> </span><span class="n">R1</span><span class="w">  </span><span class="s1">&#39;ia&#39;</span><span class="w"> </span><span class="n">R1</span><span class="w">                   </span><span class="c1">// singular genitive (książki, stołu, słonia)</span>
<span class="w">      </span><span class="s1">&#39;owi&#39;</span><span class="w"> </span><span class="n">R1</span><span class="w">  </span><span class="s1">&#39;iowi&#39;</span><span class="w"> </span><span class="n">R1</span><span class="w">                       </span><span class="c1">// singular dative (stołowi, słoniowi)</span>
<span class="w">      </span><span class="s1">&#39;</span><span class="se">{ak}</span><span class="s1">&#39;</span><span class="w"> </span><span class="n">R1</span><span class="w">  </span><span class="s1">&#39;i</span><span class="se">{ak}</span><span class="s1">&#39;</span><span class="w"> </span><span class="n">R1</span><span class="w">  </span><span class="s1">&#39;em&#39;</span><span class="w"> </span><span class="n">R1</span><span class="w">  </span><span class="s1">&#39;iem&#39;</span><span class="w"> </span><span class="n">R1</span><span class="w">  </span><span class="c1">// singular instrumental (książką, możliwością, stołem, słoniem)</span>
<span class="w">      </span><span class="s1">&#39;e&#39;</span><span class="w"> </span><span class="n">R1</span><span class="w">  </span><span class="s1">&#39;iu&#39;</span><span class="w"> </span><span class="n">R1</span><span class="w">                           </span><span class="c1">// singular locative (stole, słoniu)</span>
<span class="w">      </span><span class="s1">&#39;ie&#39;</span><span class="w"> </span><span class="n">R1</span><span class="w">                                   </span><span class="c1">// plural nominative (słonie)</span>
<span class="w">      </span><span class="s1">&#39;</span><span class="se">{o&#39;}</span><span class="s1">w&#39;</span><span class="w"> </span><span class="n">R1</span><span class="w">                                </span><span class="c1">// plural genitive (stołów)</span>
<span class="w">      </span><span class="s1">&#39;om&#39;</span><span class="w"> </span><span class="n">R1</span><span class="w">   </span><span class="s1">&#39;iom&#39;</span><span class="w"> </span><span class="n">R1</span><span class="w">                        </span><span class="c1">// plural dative (książkom, słoniom)</span>
<span class="w">      </span><span class="s1">&#39;ami&#39;</span><span class="w"> </span><span class="n">R1</span><span class="w">  </span><span class="s1">&#39;iami&#39;</span><span class="w"> </span><span class="n">R1</span><span class="w">                       </span><span class="c1">// plural instrumental (książkami, słoniami)</span>
<span class="w">      </span><span class="s1">&#39;ach&#39;</span><span class="w"> </span><span class="n">R1</span><span class="w">  </span><span class="s1">&#39;iach&#39;</span><span class="w"> </span><span class="n">R1</span><span class="w">                       </span><span class="c1">// plural locative (książkach, słoniach)</span>
<span class="w">        </span><span class="p">(</span><span class="ow">delete</span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">  </span><span class="p">)</span>

<span class="w">  </span><span class="kr">define</span><span class="w"> </span><span class="n">normalize_consonant</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="c1">// Remove kreska mark, because most of oblique cases do not have it.</span>
<span class="w">    </span><span class="c1">// Don&#39;t mutate single character inputs.</span>
<span class="w">    </span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="ow">atlimit</span><span class="w"> </span><span class="kr">among</span><span class="w"> </span><span class="p">(</span>
<span class="w">      </span><span class="s1">&#39;</span><span class="se">{c&#39;}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;c&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">// e.g. miłość → miłośc</span>
<span class="w">      </span><span class="s1">&#39;</span><span class="se">{n&#39;}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;n&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">// e.g. słoń → słon</span>
<span class="w">      </span><span class="s1">&#39;</span><span class="se">{s&#39;}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;s&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">// e.g. gęś → gęs</span>
<span class="w">      </span><span class="s1">&#39;</span><span class="se">{z&#39;}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;z&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">// e.g. miedź → miedz</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">  </span><span class="p">)</span>
<span class="p">)</span>

<span class="kr">define</span><span class="w"> </span><span class="n">stem</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="ow">do</span><span class="w"> </span><span class="n">mark_regions</span>
<span class="w">  </span><span class="c1">// Make sure we don&#39;t produce too short outputs.  The &quot;backwards&quot; will</span>
<span class="w">  </span><span class="c1">// set the backwards limit to the current cursor position.</span>
<span class="w">  </span><span class="p">(</span>
<span class="w">    </span><span class="ow">hop</span><span class="w"> </span><span class="mi">2</span>
<span class="w">    </span><span class="ow">backwards</span><span class="w"> </span><span class="n">remove_endings</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ow">backwards</span><span class="w"> </span><span class="n">normalize_consonant</span>
<span class="w">  </span><span class="p">)</span>
<span class="p">)</span>
</pre></div>


        </div><!-- /.col-lg-10 -->
      </div><!-- /.row -->
    </div><!-- /.container -->

    <div class="container">
      <footer class="footer">
        <p>
          <a href="/lists.html">Write to our mailing list</a> if you have comments or questions about the project.
        </p>
      </footer>
    </div> <!-- /container -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  </body>
</html>
