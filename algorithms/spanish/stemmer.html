<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="/favicon.ico">
    <title>Spanish stemming algorithm - Snowball</title>
    <link href="https://cdn.jsdelivr.net/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
    <link href="/styles.css" rel="stylesheet">
    <!--[if lt IE 9]>
      <script src="https://cdn.jsdelivr.net/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://cdn.jsdelivr.net/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <!-- Static navbar -->
    <nav class="navbar navbar-default navbar-static-top bg-light">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a href="/" class="float-left"><img src="/snub-dodecahedron.gif" alt="Snowball Logo" style="margin: 4px; height: 42px;"></a>
          <a class="navbar-brand" href="/">Snowball</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="/">Home</a></li>
            <li><a href="/credits.html">Credits</a></li>
          </ul>
	  <span id="forkongithub"><a href="https://github.com/snowballstem/snowball">Fork me on GitHub</a></span>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">
      <div class="row">
        <div class="col-lg-2">
          
        </div>
        <div class="col-lg-10">
          <h1>Spanish stemming algorithm</h1>


<h2>Links to resources</h2>

<ul>
<li> <A HREF="/algorithms/romance.html"> Romance language stemmers</A>
<li> <a href="/demo.html#Spanish">Javascript demo</a></li>
<li> <a href="https://raw.githubusercontent.com/snowballstem/snowball/master/algorithms/spanish.sbl">The stemmer in Snowball</a></li>
<li> <a href="https://raw.githubusercontent.com/snowballstem/snowball-data/master/spanish/voc.txt">Sample Spanish vocabulary</a></li>
<li> <a href="https://raw.githubusercontent.com/snowballstem/snowball-data/master/spanish/output.txt">Its stemmed equivalent</a></li>
<li> <a href="stop.txt">Spanish stop word list (UTF-8 encoding)</a>
</ul>

<p>
Here is a sample of Spanish vocabulary, with the stemmed forms that will be generated by this algorithm:
</p>

<div style="background-color:lightpink">
<TABLE CELLPADDING=0>
<TR><TD>  <B>word</B> </TD>
 <TD></TD><TD> </TD>
 <TD></TD><TD> <B>stem</B> </TD>
 <TD></TD><TD>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
 <TD></TD><TD> <B>word</B> </TD>
 <TD></TD><TD> </TD>
 <TD></TD><TD> <B>stem</B> </TD>
</TR>

<TR><TD>
che<BR>
checa<BR>
checar<BR>
checo<BR>
checoslovaquia<BR>
chedraoui<BR>
chefs<BR>
cheliabinsk<BR>
chelo<BR>
chemical<BR>
chemicalweek<BR>
chemise<BR>
chepo<BR>
cheque<BR>
chequeo<BR>
cheques<BR>
cheraw<BR>
chesca<BR>
chester<BR>
chetumal<BR>
chetumaleños<BR>
chevrolet<BR>
cheyene<BR>
cheyenne<BR>
chi<BR>
chía<BR>
chiapaneca<BR>
chiapas<BR>
chiba<BR>
chic<BR>
chica<BR>
chicago<BR>
chicana<BR>
chicano<BR>
chicas<BR>
chicharrones<BR>
chichen<BR>
chichimecas<BR>
chicles<BR>
chico<BR>
</TD>
<TD></TD><TD> <b>&#x21d2;</b> </TD>
<TD></TD><TD>
che<BR>
chec<BR>
chec<BR>
chec<BR>
checoslovaqui<BR>
chedraoui<BR>
chefs<BR>
cheliabinsk<BR>
chel<BR>
chemical<BR>
chemicalweek<BR>
chemis<BR>
chep<BR>
chequ<BR>
cheque<BR>
chequ<BR>
cheraw<BR>
chesc<BR>
chest<BR>
chetumal<BR>
chetumaleñ<BR>
chevrolet<BR>
cheyen<BR>
cheyenn<BR>
chi<BR>
chi<BR>
chiapanec<BR>
chiap<BR>
chib<BR>
chic<BR>
chic<BR>
chicag<BR>
chican<BR>
chican<BR>
chic<BR>
chicharron<BR>
chich<BR>
chichimec<BR>
chicl<BR>
chic<BR>
</TD>
<TD></TD><TD> </TD>
<TD></TD><TD>
torá<BR>
tórax<BR>
torcer<BR>
toreado<BR>
toreados<BR>
toreándolo<BR>
torear<BR>
toreara<BR>
torearlo<BR>
toreó<BR>
torero<BR>
toreros<BR>
torio<BR>
tormenta<BR>
tormentas<BR>
tornado<BR>
tornados<BR>
tornar<BR>
tornen<BR>
torneo<BR>
torneos<BR>
tornillo<BR>
tornillos<BR>
torniquete<BR>
torno<BR>
toro<BR>
toronto<BR>
toros<BR>
torpedearon<BR>
torpeza<BR>
torrado<BR>
torralba<BR>
torre<BR>
torrencial<BR>
torrenciales<BR>
torrente<BR>
torreon<BR>
torreón<BR>
torres<BR>
torrescano<BR>
</TD>
<TD></TD><TD> <b>&#x21d2;</b> </TD>
<TD></TD><TD>
tor<BR>
torax<BR>
torc<BR>
tor<BR>
tor<BR>
tor<BR>
tor<BR>
tor<BR>
tor<BR>
tore<BR>
torer<BR>
torer<BR>
tori<BR>
torment<BR>
torment<BR>
torn<BR>
torn<BR>
torn<BR>
torn<BR>
torne<BR>
torne<BR>
tornill<BR>
tornill<BR>
torniquet<BR>
torn<BR>
tor<BR>
toront<BR>
tor<BR>
torped<BR>
torpez<BR>
torr<BR>
torralb<BR>
torr<BR>
torrencial<BR>
torrencial<BR>
torrent<BR>
torreon<BR>
torreon<BR>
torr<BR>
torrescan<BR>
</TD>
</TR>
</TABLE>
</div>

<h2>Design Notes</h2>

<p>
Accents are often missing in informally written Spanish.  Since Snowball 3.0.0
some additional rules are included to try to handle commonly occurring cases
where accents are omitted and an additional rule doesn't cause problems with
other words.  There's likely scope for further such improvements - please
report instances.
</p>

<h2>History of functional changes to the algorithm</h2>

<ul>
<li>2005-06-15: Added rules to remove <i>-ante</i>, <i>-antes</i>, <i>-ancia</i> and <i>-ancias</i>
<li>Snowball 3.0.0: Added rules to remove <i>-acion</i> and <i>-ucion</i>.
</ul>

<h2>The stemming algorithm</h2>

<p>
Letters in Spanish include the following accented forms,
</p>

<DL><DD>
    <B><I>á  &nbsp;  é  &nbsp;  í  &nbsp;  ó  &nbsp;  ú  &nbsp;  ü  &nbsp;  ñ</I></B>
</DL>

<p>
The following letters are vowels:
</p>

<DL><DD>
    <B><I>a  &nbsp;  e  &nbsp;  i  &nbsp;  o  &nbsp;  u  &nbsp;  á  &nbsp;  é  &nbsp;  í  &nbsp;  ó  &nbsp;  ú  &nbsp;  ü</I></B>
</DL>

<p>
<I>R</I>2 is defined in the usual way &#x2014;
see the <A HREF="../../texts/r1r2.html"> note</A> on <I>R</I>1 and <I>R</I>2.
</p>

<p>
<I>RV</I> is defined as follows (and this is not the same as the
 <A HREF="../french/stemmer.html">French stemmer</A>
definition):
</p>

<p>
If the second letter is a consonant, <I>RV</I> is the region after the next
following vowel, or if the first two letters are vowels, <I>RV</I> is the region
after the next consonant, and otherwise (consonant-vowel case) <I>RV</I> is the
region after the third letter. But <I>RV</I> is the end of the word if these
positions cannot be found.
</p>

<p>
For example,
</p>

<PRE>
    m a c h o     o l i v a     t r a b a j o     á u r e o
         |...|         |...|         |.......|         |...|
</PRE>

<p>
Always do steps 0 and 1.
</p>

<p>
Step 0: Attached pronoun
</p>

<DL><DD>
    Search for the longest among the following suffixes
    <DL><DD>
        <B><I>me  &nbsp;  se  &nbsp;  sela  &nbsp;  selo  &nbsp;  selas  &nbsp;  selos  &nbsp;  la  &nbsp;  le  &nbsp;  lo  &nbsp;  las  &nbsp;  les  &nbsp;  los  &nbsp;  nos</I></B>
</DL><BR>
    and delete it, if comes after one of
    <DL><DD>
        (<I>a</I>) <B><I>iéndo  &nbsp;  ándo  &nbsp;  ár  &nbsp;  ér  &nbsp;  ír</I></B><BR>
        (<I>b</I>) <B><I>ando  &nbsp;  iendo  &nbsp;  ar  &nbsp;  er  &nbsp;  ir</I></B><BR>
        (<I>c</I>) <B><I>yendo</I></B> following <B><I>u</I></B>
</DL>
    <p>
    in <I>RV</I>. In the case of (<I>c</I>), <B><I>yendo</I></B> must lie in <I>RV</I>, but the preceding
    <B><I>u</I></B> can be outside it.
    </p>

    <p>
    In the case of (<I>a</I>), deletion is followed by removing the acute accent
    (for example, <I>haciéndola</I> &#x2192; <I>haciendo</I>).
    </p>
</DL>

<p>
Step 1: Standard suffix removal
</p>

<DL><DD>
    Search for the longest among the following suffixes, and perform the
    action indicated.
<DL>
    <DT><B><I>anza  &nbsp;  anzas  &nbsp;  ico  &nbsp;  ica  &nbsp;  icos  &nbsp;  icas  &nbsp;  ismo  &nbsp;  ismos  &nbsp;  able  &nbsp;  ables  &nbsp;  ible  &nbsp;  ibles  &nbsp;  ista
     &nbsp;  istas  &nbsp;  oso  &nbsp;  osa  &nbsp;  osos  &nbsp;  osas  &nbsp;  amiento  &nbsp;  amientos  &nbsp;  imiento  &nbsp;
    imientos</I></B>
        <DD>delete if in <I>R</I>2
    <DT><B><I>adora  &nbsp;  ador  &nbsp;  ación  &nbsp;  adoras  &nbsp;  adores  &nbsp;  aciones  &nbsp;  ante  &nbsp;  antes  &nbsp;  ancia  &nbsp;  ancias  &nbsp;  acion</I></B>
        <DD>delete if in <I>R</I>2
        <DD>if preceded by <B><I>ic</I></B>, delete if in <I>R</I>2
    <DT><B><I>logía  &nbsp;  logías</I></B>
        <DD>replace with <B><I>log</I></B> if in <I>R</I>2
    <DT><B><I>ución  &nbsp;  uciones  &nbsp;  ucion</I></B>
        <DD>replace with <B><I>u</I></B> if in <I>R</I>2
    <DT><B><I>encia  &nbsp;  encias</I></B>
        <DD>replace with <B><I>ente</I></B> if in <I>R</I>2
    <DT><B><I>amente</I></B>
        <DD>delete if in <I>R</I>1
        <DD>if preceded by <B><I>iv</I></B>, delete if in <I>R</I>2 (and if further preceded by <B><I>at</I></B>,
        delete if in <I>R</I>2), otherwise,
        <DD>if preceded by <B><I>os</I></B>, <B><I>ic</I></B> or <B><I>ad</I></B>, delete if in <I>R</I>2
    <DT><B><I>mente</I></B>
        <DD>delete if in <I>R</I>2
        <DD>if preceded by <B><I>ante</I></B>, <B><I>able</I></B> or <B><I>ible</I></B>, delete if in <I>R</I>2
    <DT><B><I>idad  &nbsp;  idades</I></B>
        <DD>delete if in <I>R</I>2
        <DD>if preceded by <B><I>abil</I></B>, <B><I>ic</I></B> or <B><I>iv</I></B>, delete if in <I>R</I>2
    <DT><B><I>iva  &nbsp;  ivo  &nbsp;  ivas  &nbsp;  ivos</I></B>
        <DD>delete if in <I>R</I>2
        <DD>if preceded by <B><I>at</I></B>, delete if in <I>R</I>2
</DL>
</DL>

<p>
Do step 2<I>a</I> if no ending was removed by step 1.
</p>

<p>
Step 2<I>a</I>: Verb suffixes beginning <B><I>y</I></B>
</p>

<DL><DD>
    Search for the longest among the following suffixes in <I>RV</I>, and if found,
    delete if preceded by <B><I>u</I></B>.
    <DL><DD>
        <B><I>ya  &nbsp;  ye  &nbsp;  yan  &nbsp;  yen  &nbsp;  yeron  &nbsp;  yendo  &nbsp;  yo  &nbsp;  yó  &nbsp;  yas  &nbsp;  yes  &nbsp;  yais  &nbsp;
        yamos</I></B>
    </DL>
    (Note that the preceding u need not be in <I>RV</I>.)
</DL>

<p>
Do Step 2<I>b</I> if step 2<I>a</I> was done, but failed to remove a suffix.
</p>

<p>
Step 2<I>b</I>: Other verb suffixes
</p>

<DL><DD>
    Search for the longest among the following suffixes in <I>RV</I>, and perform the
    action indicated.
    <DL>
    <DT><B><I>en  &nbsp;  es  &nbsp;  éis  &nbsp;  emos</I></B>
        <DD>delete, and if preceded by <B><I>gu</I></B> delete the <B><I>u</I></B> (the <B><I>gu</I></B> need not be in
        <I>RV</I>)
    <DT><B><I>arían  &nbsp;  arías  &nbsp;  arán  &nbsp;  arás  &nbsp;  aríais  &nbsp;  aría  &nbsp;  aréis  &nbsp;  aríamos  &nbsp;  aremos
     &nbsp;  ará  &nbsp;  aré
     &nbsp;  erían  &nbsp;  erías  &nbsp;  erán  &nbsp;  erás  &nbsp;  eríais  &nbsp;  ería  &nbsp;  eréis  &nbsp;  eríamos  &nbsp;  eremos
     &nbsp;  erá  &nbsp;  eré
     &nbsp;  irían  &nbsp;  irías  &nbsp;  irán  &nbsp;  irás  &nbsp;  iríais  &nbsp;  iría  &nbsp;  iréis  &nbsp;  iríamos  &nbsp;  iremos
     &nbsp;  irá  &nbsp;  iré
     &nbsp;  aba  &nbsp;  ada  &nbsp;  ida  &nbsp;  ía  &nbsp;  ara  &nbsp;  iera  &nbsp;  ad  &nbsp;  ed  &nbsp;  id  &nbsp;  ase  &nbsp;  iese  &nbsp;  aste  &nbsp;  iste  &nbsp;  an  &nbsp;  aban  &nbsp;  ían
     &nbsp;  aran  &nbsp;  ieran  &nbsp;  asen  &nbsp;  iesen  &nbsp;  aron  &nbsp;  ieron  &nbsp;  ado  &nbsp;  ido  &nbsp;  ando  &nbsp;  iendo  &nbsp;  ió  &nbsp;  ar  &nbsp;  er  &nbsp;  ir  &nbsp;  as
     &nbsp;  abas  &nbsp;  adas  &nbsp;  idas  &nbsp;  ías  &nbsp;  aras  &nbsp;  ieras  &nbsp;  ases  &nbsp;  ieses  &nbsp;  ís  &nbsp;  áis  &nbsp;  abais  &nbsp;  íais
     &nbsp;  arais  &nbsp;  ierais  &nbsp;    &nbsp;  aseis  &nbsp;  ieseis  &nbsp;  asteis  &nbsp;  isteis  &nbsp;  ados  &nbsp;  idos  &nbsp;  amos  &nbsp;  ábamos
     &nbsp;  íamos  &nbsp;  imos  &nbsp;  áramos  &nbsp;  iéramos  &nbsp;  iésemos  &nbsp;  ásemos</I></B>
        <DD>delete
    </DL>
</DL>

<p>
Always do step 3.
</p>

<p>
Step 3: residual suffix
</p>

<DL><DD>
    Search for the longest among the following suffixes in <I>RV</I>, and perform the
    action indicated.
    <DL>
    <DT><B><I>os  &nbsp;  a  &nbsp;  o  &nbsp;  á  &nbsp;  í  &nbsp;  ó</I></B>
        <DD>delete if in <I>RV</I>
    <DT><B><I>e  &nbsp;  é</I></B>
        <DD>delete if in <I>RV</I>, and if preceded by <B><I>gu</I></B> with the <B><I>u</I></B> in <I>RV</I> delete the <B><I>u</I></B>
    </DL>
</DL>

<p>
And finally:
</p>

<DL><DD>
    Remove acute accents
</DL>

<h2>The same algorithm in Snowball</h2>

<div class="highlight"><pre><span class="kr">routines</span><span class="w"> </span><span class="p">(</span>
<span class="w">           </span><span class="n">postlude</span><span class="w"> </span><span class="n">mark_regions</span>
<span class="w">           </span><span class="n">RV</span><span class="w"> </span><span class="n">R1</span><span class="w"> </span><span class="n">R2</span>
<span class="w">           </span><span class="n">attached_pronoun</span>
<span class="w">           </span><span class="n">standard_suffix</span>
<span class="w">           </span><span class="n">y_verb_suffix</span>
<span class="w">           </span><span class="n">verb_suffix</span>
<span class="w">           </span><span class="n">residual_suffix</span>
<span class="p">)</span>

<span class="kr">externals</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">stem</span><span class="w"> </span><span class="p">)</span>

<span class="kr">integers</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">pV</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="n">p2</span><span class="w"> </span><span class="p">)</span>

<span class="kr">groupings</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="p">)</span>

<span class="kr">stringescapes</span><span class="w"> </span><span class="se">{}</span>

<span class="cm">/* special characters */</span>

<span class="kr">stringdef</span><span class="w"> </span><span class="se">a&#39;</span><span class="w">   </span><span class="s1">&#39;</span><span class="se">{U+00E1}</span><span class="s1">&#39;</span><span class="w">  </span><span class="c1">// a-acute</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">e&#39;</span><span class="w">   </span><span class="s1">&#39;</span><span class="se">{U+00E9}</span><span class="s1">&#39;</span><span class="w">  </span><span class="c1">// e-acute</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">i&#39;</span><span class="w">   </span><span class="s1">&#39;</span><span class="se">{U+00ED}</span><span class="s1">&#39;</span><span class="w">  </span><span class="c1">// i-acute</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">o&#39;</span><span class="w">   </span><span class="s1">&#39;</span><span class="se">{U+00F3}</span><span class="s1">&#39;</span><span class="w">  </span><span class="c1">// o-acute</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">u&#39;</span><span class="w">   </span><span class="s1">&#39;</span><span class="se">{U+00FA}</span><span class="s1">&#39;</span><span class="w">  </span><span class="c1">// u-acute</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">u&quot;</span><span class="w">   </span><span class="s1">&#39;</span><span class="se">{U+00FC}</span><span class="s1">&#39;</span><span class="w">  </span><span class="c1">// u-diaeresis</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">n~</span><span class="w">   </span><span class="s1">&#39;</span><span class="se">{U+00F1}</span><span class="s1">&#39;</span><span class="w">  </span><span class="c1">// n-tilde</span>

<span class="kr">define</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="s1">&#39;aeiou</span><span class="se">{a&#39;}{e&#39;}{i&#39;}{o&#39;}{u&#39;}{u&quot;}</span><span class="s1">&#39;</span>

<span class="kr">define</span><span class="w"> </span><span class="n">mark_regions</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>

<span class="w">    </span><span class="o">$</span><span class="n">pV</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">limit</span>
<span class="w">    </span><span class="o">$</span><span class="n">p1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">limit</span>
<span class="w">    </span><span class="o">$</span><span class="n">p2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">limit</span><span class="w">  </span><span class="c1">// defaults</span>

<span class="w">    </span><span class="ow">do</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="p">(</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="p">(</span><span class="ow">non</span><span class="o">-</span><span class="n">v</span><span class="w"> </span><span class="ow">gopast</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="p">(</span><span class="n">v</span><span class="w"> </span><span class="ow">gopast</span><span class="w"> </span><span class="ow">non</span><span class="o">-</span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="p">)</span>
<span class="w">        </span><span class="ow">or</span>
<span class="w">        </span><span class="p">(</span><span class="w"> </span><span class="ow">non</span><span class="o">-</span><span class="n">v</span><span class="w"> </span><span class="p">(</span><span class="ow">non</span><span class="o">-</span><span class="n">v</span><span class="w"> </span><span class="ow">gopast</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="p">(</span><span class="n">v</span><span class="w"> </span><span class="ow">next</span><span class="p">)</span><span class="w"> </span><span class="p">)</span>
<span class="w">        </span><span class="ow">setmark</span><span class="w"> </span><span class="n">pV</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">    </span><span class="ow">do</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="ow">gopast</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="ow">gopast</span><span class="w"> </span><span class="ow">non</span><span class="o">-</span><span class="n">v</span><span class="w"> </span><span class="ow">setmark</span><span class="w"> </span><span class="n">p1</span>
<span class="w">        </span><span class="ow">gopast</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="ow">gopast</span><span class="w"> </span><span class="ow">non</span><span class="o">-</span><span class="n">v</span><span class="w"> </span><span class="ow">setmark</span><span class="w"> </span><span class="n">p2</span>
<span class="w">    </span><span class="p">)</span>
<span class="p">)</span>

<span class="kr">define</span><span class="w"> </span><span class="n">postlude</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="ow">repeat</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="w"> </span><span class="kr">among</span><span class="p">(</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{a&#39;}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{e&#39;}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;e&#39;</span><span class="p">)</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{i&#39;}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;i&#39;</span><span class="p">)</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{o&#39;}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{u&#39;}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;u&#39;</span><span class="p">)</span>
<span class="w">        </span><span class="c1">// and possibly {u&quot;}-&gt;u here, or in prelude</span>
<span class="w">        </span><span class="s1">&#39;&#39;</span><span class="w">     </span><span class="p">(</span><span class="ow">next</span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>
<span class="p">)</span>

<span class="kr">backwardmode</span><span class="w"> </span><span class="p">(</span>

<span class="w">    </span><span class="kr">define</span><span class="w"> </span><span class="n">RV</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="o">$</span><span class="n">pV</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="nb">cursor</span>
<span class="w">    </span><span class="kr">define</span><span class="w"> </span><span class="n">R1</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="o">$</span><span class="n">p1</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="nb">cursor</span>
<span class="w">    </span><span class="kr">define</span><span class="w"> </span><span class="n">R2</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="o">$</span><span class="n">p2</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="nb">cursor</span>

<span class="w">    </span><span class="kr">define</span><span class="w"> </span><span class="n">attached_pronoun</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="w"> </span><span class="kr">among</span><span class="p">(</span>
<span class="w">            </span><span class="s1">&#39;me&#39;</span><span class="w"> </span><span class="s1">&#39;se&#39;</span><span class="w">  </span><span class="s1">&#39;sela&#39;</span><span class="w"> </span><span class="s1">&#39;selo&#39;</span><span class="w"> </span><span class="s1">&#39;selas&#39;</span><span class="w"> </span><span class="s1">&#39;selos&#39;</span><span class="w"> </span><span class="s1">&#39;la&#39;</span><span class="w"> </span><span class="s1">&#39;le&#39;</span><span class="w"> </span><span class="s1">&#39;lo&#39;</span>
<span class="w">            </span><span class="s1">&#39;las&#39;</span><span class="w"> </span><span class="s1">&#39;les&#39;</span><span class="w"> </span><span class="s1">&#39;los&#39;</span><span class="w"> </span><span class="s1">&#39;nos&#39;</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">        </span><span class="ow">substring</span><span class="w"> </span><span class="n">RV</span><span class="w"> </span><span class="kr">among</span><span class="p">(</span>
<span class="w">            </span><span class="s1">&#39;i</span><span class="se">{e&#39;}</span><span class="s1">ndo&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;iendo&#39;</span><span class="p">)</span>
<span class="w">            </span><span class="s1">&#39;</span><span class="se">{a&#39;}</span><span class="s1">ndo&#39;</span><span class="w">  </span><span class="p">(</span><span class="o">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;ando&#39;</span><span class="p">)</span>
<span class="w">            </span><span class="s1">&#39;</span><span class="se">{a&#39;}</span><span class="s1">r&#39;</span><span class="w">    </span><span class="p">(</span><span class="o">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;ar&#39;</span><span class="p">)</span>
<span class="w">            </span><span class="s1">&#39;</span><span class="se">{e&#39;}</span><span class="s1">r&#39;</span><span class="w">    </span><span class="p">(</span><span class="o">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;er&#39;</span><span class="p">)</span>
<span class="w">            </span><span class="s1">&#39;</span><span class="se">{i&#39;}</span><span class="s1">r&#39;</span><span class="w">    </span><span class="p">(</span><span class="o">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;ir&#39;</span><span class="p">)</span>
<span class="w">            </span><span class="s1">&#39;ando&#39;</span>
<span class="w">            </span><span class="s1">&#39;iendo&#39;</span>
<span class="w">            </span><span class="s1">&#39;ar&#39;</span><span class="w"> </span><span class="s1">&#39;er&#39;</span><span class="w"> </span><span class="s1">&#39;ir&#39;</span>
<span class="w">                       </span><span class="p">(</span><span class="ow">delete</span><span class="p">)</span>
<span class="w">            </span><span class="s1">&#39;yendo&#39;</span><span class="w">    </span><span class="p">(</span><span class="s1">&#39;u&#39;</span><span class="w"> </span><span class="ow">delete</span><span class="p">)</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>

<span class="w">    </span><span class="kr">define</span><span class="w"> </span><span class="n">standard_suffix</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="w"> </span><span class="kr">among</span><span class="p">(</span>

<span class="w">            </span><span class="s1">&#39;anza&#39;</span><span class="w"> </span><span class="s1">&#39;anzas&#39;</span>
<span class="w">            </span><span class="s1">&#39;ico&#39;</span><span class="w"> </span><span class="s1">&#39;ica&#39;</span><span class="w"> </span><span class="s1">&#39;icos&#39;</span><span class="w"> </span><span class="s1">&#39;icas&#39;</span>
<span class="w">            </span><span class="s1">&#39;ismo&#39;</span><span class="w"> </span><span class="s1">&#39;ismos&#39;</span>
<span class="w">            </span><span class="s1">&#39;able&#39;</span><span class="w"> </span><span class="s1">&#39;ables&#39;</span>
<span class="w">            </span><span class="s1">&#39;ible&#39;</span><span class="w"> </span><span class="s1">&#39;ibles&#39;</span>
<span class="w">            </span><span class="s1">&#39;ista&#39;</span><span class="w"> </span><span class="s1">&#39;istas&#39;</span>
<span class="w">            </span><span class="s1">&#39;oso&#39;</span><span class="w"> </span><span class="s1">&#39;osa&#39;</span><span class="w"> </span><span class="s1">&#39;osos&#39;</span><span class="w"> </span><span class="s1">&#39;osas&#39;</span>
<span class="w">            </span><span class="s1">&#39;amiento&#39;</span><span class="w"> </span><span class="s1">&#39;amientos&#39;</span>
<span class="w">            </span><span class="s1">&#39;imiento&#39;</span><span class="w"> </span><span class="s1">&#39;imientos&#39;</span>
<span class="w">            </span><span class="p">(</span>
<span class="w">                </span><span class="n">R2</span><span class="w"> </span><span class="ow">delete</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">            </span><span class="s1">&#39;adora&#39;</span><span class="w"> </span><span class="s1">&#39;ador&#39;</span><span class="w"> </span><span class="s1">&#39;aci</span><span class="se">{o&#39;}</span><span class="s1">n&#39;</span>
<span class="w">            </span><span class="s1">&#39;adoras&#39;</span><span class="w"> </span><span class="s1">&#39;adores&#39;</span><span class="w"> </span><span class="s1">&#39;aciones&#39;</span>
<span class="w">            </span><span class="s1">&#39;ante&#39;</span><span class="w"> </span><span class="s1">&#39;antes&#39;</span><span class="w"> </span><span class="s1">&#39;ancia&#39;</span><span class="w"> </span><span class="s1">&#39;ancias&#39;</span>
<span class="w">            </span><span class="s1">&#39;acion&#39;</span><span class="w"> </span><span class="c1">// Misspelling of &#39;-ación&#39;.</span>
<span class="w">            </span><span class="p">(</span>
<span class="w">                </span><span class="n">R2</span><span class="w"> </span><span class="ow">delete</span>
<span class="w">                </span><span class="ow">try</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">[</span><span class="s1">&#39;ic&#39;</span><span class="o">]</span><span class="w"> </span><span class="n">R2</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="p">)</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">            </span><span class="s1">&#39;log</span><span class="se">{i&#39;}</span><span class="s1">a&#39;</span>
<span class="w">            </span><span class="s1">&#39;log</span><span class="se">{i&#39;}</span><span class="s1">as&#39;</span>
<span class="w">            </span><span class="p">(</span>
<span class="w">                </span><span class="n">R2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;log&#39;</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">            </span><span class="s1">&#39;uci</span><span class="se">{o&#39;}</span><span class="s1">n&#39;</span><span class="w"> </span><span class="s1">&#39;uciones&#39;</span>
<span class="w">            </span><span class="s1">&#39;ucion&#39;</span><span class="w"> </span><span class="c1">// Misspelling of &#39;-ución&#39;.</span>
<span class="w">            </span><span class="p">(</span>
<span class="w">                </span><span class="n">R2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;u&#39;</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">            </span><span class="s1">&#39;encia&#39;</span><span class="w"> </span><span class="s1">&#39;encias&#39;</span>
<span class="w">            </span><span class="p">(</span>
<span class="w">                </span><span class="n">R2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;ente&#39;</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">            </span><span class="s1">&#39;amente&#39;</span>
<span class="w">            </span><span class="p">(</span>
<span class="w">                </span><span class="n">R1</span><span class="w"> </span><span class="ow">delete</span>
<span class="w">                </span><span class="ow">try</span><span class="w"> </span><span class="p">(</span>
<span class="w">                    </span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="w"> </span><span class="n">R2</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="kr">among</span><span class="p">(</span>
<span class="w">                        </span><span class="s1">&#39;iv&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">[</span><span class="s1">&#39;at&#39;</span><span class="o">]</span><span class="w"> </span><span class="n">R2</span><span class="w"> </span><span class="ow">delete</span><span class="p">)</span>
<span class="w">                        </span><span class="s1">&#39;os&#39;</span>
<span class="w">                        </span><span class="s1">&#39;ic&#39;</span>
<span class="w">                        </span><span class="s1">&#39;ad&#39;</span>
<span class="w">                    </span><span class="p">)</span>
<span class="w">                </span><span class="p">)</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">            </span><span class="s1">&#39;mente&#39;</span>
<span class="w">            </span><span class="p">(</span>
<span class="w">                </span><span class="n">R2</span><span class="w"> </span><span class="ow">delete</span>
<span class="w">                </span><span class="ow">try</span><span class="w"> </span><span class="p">(</span>
<span class="w">                    </span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="w"> </span><span class="kr">among</span><span class="p">(</span>
<span class="w">                        </span><span class="s1">&#39;ante&#39;</span>
<span class="w">                        </span><span class="s1">&#39;able&#39;</span>
<span class="w">                        </span><span class="s1">&#39;ible&#39;</span><span class="w"> </span><span class="p">(</span><span class="n">R2</span><span class="w"> </span><span class="ow">delete</span><span class="p">)</span>
<span class="w">                    </span><span class="p">)</span>
<span class="w">                </span><span class="p">)</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">            </span><span class="s1">&#39;idad&#39;</span>
<span class="w">            </span><span class="s1">&#39;idades&#39;</span>
<span class="w">            </span><span class="p">(</span>
<span class="w">                </span><span class="n">R2</span><span class="w"> </span><span class="ow">delete</span>
<span class="w">                </span><span class="ow">try</span><span class="w"> </span><span class="p">(</span>
<span class="w">                    </span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="w"> </span><span class="kr">among</span><span class="p">(</span>
<span class="w">                        </span><span class="s1">&#39;abil&#39;</span>
<span class="w">                        </span><span class="s1">&#39;ic&#39;</span>
<span class="w">                        </span><span class="s1">&#39;iv&#39;</span><span class="w">   </span><span class="p">(</span><span class="n">R2</span><span class="w"> </span><span class="ow">delete</span><span class="p">)</span>
<span class="w">                    </span><span class="p">)</span>
<span class="w">                </span><span class="p">)</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">            </span><span class="s1">&#39;iva&#39;</span><span class="w"> </span><span class="s1">&#39;ivo&#39;</span>
<span class="w">            </span><span class="s1">&#39;ivas&#39;</span><span class="w"> </span><span class="s1">&#39;ivos&#39;</span>
<span class="w">            </span><span class="p">(</span>
<span class="w">                </span><span class="n">R2</span><span class="w"> </span><span class="ow">delete</span>
<span class="w">                </span><span class="ow">try</span><span class="w"> </span><span class="p">(</span>
<span class="w">                    </span><span class="o">[</span><span class="s1">&#39;at&#39;</span><span class="o">]</span><span class="w"> </span><span class="n">R2</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="c1">// but not a further   [&#39;ic&#39;] R2 delete</span>
<span class="w">                </span><span class="p">)</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>

<span class="w">    </span><span class="kr">define</span><span class="w"> </span><span class="n">y_verb_suffix</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="ow">setlimit</span><span class="w"> </span><span class="ow">tomark</span><span class="w"> </span><span class="n">pV</span><span class="w"> </span><span class="ow">for</span><span class="w"> </span><span class="p">(</span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="kr">among</span><span class="p">(</span>
<span class="w">            </span><span class="s1">&#39;ya&#39;</span><span class="w"> </span><span class="s1">&#39;ye&#39;</span><span class="w"> </span><span class="s1">&#39;yan&#39;</span><span class="w"> </span><span class="s1">&#39;yen&#39;</span><span class="w"> </span><span class="s1">&#39;yeron&#39;</span><span class="w"> </span><span class="s1">&#39;yendo&#39;</span><span class="w"> </span><span class="s1">&#39;yo&#39;</span><span class="w"> </span><span class="s1">&#39;y</span><span class="se">{o&#39;}</span><span class="s1">&#39;</span>
<span class="w">            </span><span class="s1">&#39;yas&#39;</span><span class="w"> </span><span class="s1">&#39;yes&#39;</span><span class="w"> </span><span class="s1">&#39;yais&#39;</span><span class="w"> </span><span class="s1">&#39;yamos&#39;</span>
<span class="w">                </span><span class="p">(</span><span class="s1">&#39;u&#39;</span><span class="w"> </span><span class="ow">delete</span><span class="p">)</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>

<span class="w">    </span><span class="kr">define</span><span class="w"> </span><span class="n">verb_suffix</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="ow">setlimit</span><span class="w"> </span><span class="ow">tomark</span><span class="w"> </span><span class="n">pV</span><span class="w"> </span><span class="ow">for</span><span class="w"> </span><span class="p">(</span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="kr">among</span><span class="p">(</span>

<span class="w">            </span><span class="s1">&#39;en&#39;</span><span class="w"> </span><span class="s1">&#39;es&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{e&#39;}</span><span class="s1">is&#39;</span><span class="w"> </span><span class="s1">&#39;emos&#39;</span>
<span class="w">                </span><span class="p">(</span><span class="ow">try</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;u&#39;</span><span class="w"> </span><span class="ow">test</span><span class="w"> </span><span class="s1">&#39;g&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="ow">delete</span><span class="p">)</span>

<span class="w">            </span><span class="s1">&#39;ar</span><span class="se">{i&#39;}</span><span class="s1">an&#39;</span><span class="w"> </span><span class="s1">&#39;ar</span><span class="se">{i&#39;}</span><span class="s1">as&#39;</span><span class="w"> </span><span class="s1">&#39;ar</span><span class="se">{a&#39;}</span><span class="s1">n&#39;</span><span class="w"> </span><span class="s1">&#39;ar</span><span class="se">{a&#39;}</span><span class="s1">s&#39;</span><span class="w"> </span><span class="s1">&#39;ar</span><span class="se">{i&#39;}</span><span class="s1">ais&#39;</span>
<span class="w">            </span><span class="s1">&#39;ar</span><span class="se">{i&#39;}</span><span class="s1">a&#39;</span><span class="w"> </span><span class="s1">&#39;ar</span><span class="se">{e&#39;}</span><span class="s1">is&#39;</span><span class="w"> </span><span class="s1">&#39;ar</span><span class="se">{i&#39;}</span><span class="s1">amos&#39;</span><span class="w"> </span><span class="s1">&#39;aremos&#39;</span><span class="w"> </span><span class="s1">&#39;ar</span><span class="se">{a&#39;}</span><span class="s1">&#39;</span>
<span class="w">            </span><span class="s1">&#39;ar</span><span class="se">{e&#39;}</span><span class="s1">&#39;</span>
<span class="w">            </span><span class="s1">&#39;er</span><span class="se">{i&#39;}</span><span class="s1">an&#39;</span><span class="w"> </span><span class="s1">&#39;er</span><span class="se">{i&#39;}</span><span class="s1">as&#39;</span><span class="w"> </span><span class="s1">&#39;er</span><span class="se">{a&#39;}</span><span class="s1">n&#39;</span><span class="w"> </span><span class="s1">&#39;er</span><span class="se">{a&#39;}</span><span class="s1">s&#39;</span><span class="w"> </span><span class="s1">&#39;er</span><span class="se">{i&#39;}</span><span class="s1">ais&#39;</span>
<span class="w">            </span><span class="s1">&#39;er</span><span class="se">{i&#39;}</span><span class="s1">a&#39;</span><span class="w"> </span><span class="s1">&#39;er</span><span class="se">{e&#39;}</span><span class="s1">is&#39;</span><span class="w"> </span><span class="s1">&#39;er</span><span class="se">{i&#39;}</span><span class="s1">amos&#39;</span><span class="w"> </span><span class="s1">&#39;eremos&#39;</span><span class="w"> </span><span class="s1">&#39;er</span><span class="se">{a&#39;}</span><span class="s1">&#39;</span>
<span class="w">            </span><span class="s1">&#39;er</span><span class="se">{e&#39;}</span><span class="s1">&#39;</span>
<span class="w">            </span><span class="s1">&#39;ir</span><span class="se">{i&#39;}</span><span class="s1">an&#39;</span><span class="w"> </span><span class="s1">&#39;ir</span><span class="se">{i&#39;}</span><span class="s1">as&#39;</span><span class="w"> </span><span class="s1">&#39;ir</span><span class="se">{a&#39;}</span><span class="s1">n&#39;</span><span class="w"> </span><span class="s1">&#39;ir</span><span class="se">{a&#39;}</span><span class="s1">s&#39;</span><span class="w"> </span><span class="s1">&#39;ir</span><span class="se">{i&#39;}</span><span class="s1">ais&#39;</span>
<span class="w">            </span><span class="s1">&#39;ir</span><span class="se">{i&#39;}</span><span class="s1">a&#39;</span><span class="w"> </span><span class="s1">&#39;ir</span><span class="se">{e&#39;}</span><span class="s1">is&#39;</span><span class="w"> </span><span class="s1">&#39;ir</span><span class="se">{i&#39;}</span><span class="s1">amos&#39;</span><span class="w"> </span><span class="s1">&#39;iremos&#39;</span><span class="w"> </span><span class="s1">&#39;ir</span><span class="se">{a&#39;}</span><span class="s1">&#39;</span>
<span class="w">            </span><span class="s1">&#39;ir</span><span class="se">{e&#39;}</span><span class="s1">&#39;</span>

<span class="w">            </span><span class="s1">&#39;aba&#39;</span><span class="w"> </span><span class="s1">&#39;ada&#39;</span><span class="w"> </span><span class="s1">&#39;ida&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{i&#39;}</span><span class="s1">a&#39;</span><span class="w"> </span><span class="s1">&#39;ara&#39;</span><span class="w"> </span><span class="s1">&#39;iera&#39;</span><span class="w"> </span><span class="s1">&#39;ad&#39;</span><span class="w"> </span><span class="s1">&#39;ed&#39;</span>
<span class="w">            </span><span class="s1">&#39;id&#39;</span><span class="w"> </span><span class="s1">&#39;ase&#39;</span><span class="w"> </span><span class="s1">&#39;iese&#39;</span><span class="w"> </span><span class="s1">&#39;aste&#39;</span><span class="w"> </span><span class="s1">&#39;iste&#39;</span><span class="w"> </span><span class="s1">&#39;an&#39;</span><span class="w"> </span><span class="s1">&#39;aban&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{i&#39;}</span><span class="s1">an&#39;</span>
<span class="w">            </span><span class="s1">&#39;aran&#39;</span><span class="w"> </span><span class="s1">&#39;ieran&#39;</span><span class="w"> </span><span class="s1">&#39;asen&#39;</span><span class="w"> </span><span class="s1">&#39;iesen&#39;</span><span class="w"> </span><span class="s1">&#39;aron&#39;</span><span class="w"> </span><span class="s1">&#39;ieron&#39;</span><span class="w"> </span><span class="s1">&#39;ado&#39;</span>
<span class="w">            </span><span class="s1">&#39;ido&#39;</span><span class="w"> </span><span class="s1">&#39;ando&#39;</span><span class="w"> </span><span class="s1">&#39;iendo&#39;</span><span class="w"> </span><span class="s1">&#39;i</span><span class="se">{o&#39;}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;ar&#39;</span><span class="w"> </span><span class="s1">&#39;er&#39;</span><span class="w"> </span><span class="s1">&#39;ir&#39;</span><span class="w"> </span><span class="s1">&#39;as&#39;</span>
<span class="w">            </span><span class="s1">&#39;abas&#39;</span><span class="w"> </span><span class="s1">&#39;adas&#39;</span><span class="w"> </span><span class="s1">&#39;idas&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{i&#39;}</span><span class="s1">as&#39;</span><span class="w"> </span><span class="s1">&#39;aras&#39;</span><span class="w"> </span><span class="s1">&#39;ieras&#39;</span><span class="w"> </span><span class="s1">&#39;ases&#39;</span>
<span class="w">            </span><span class="s1">&#39;ieses&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{i&#39;}</span><span class="s1">s&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{a&#39;}</span><span class="s1">is&#39;</span><span class="w"> </span><span class="s1">&#39;abais&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{i&#39;}</span><span class="s1">ais&#39;</span><span class="w"> </span><span class="s1">&#39;arais&#39;</span>
<span class="w">            </span><span class="s1">&#39;ierais&#39;</span><span class="w">  </span><span class="s1">&#39;aseis&#39;</span><span class="w"> </span><span class="s1">&#39;ieseis&#39;</span><span class="w"> </span><span class="s1">&#39;asteis&#39;</span><span class="w"> </span><span class="s1">&#39;isteis&#39;</span><span class="w"> </span><span class="s1">&#39;ados&#39;</span>
<span class="w">            </span><span class="s1">&#39;idos&#39;</span><span class="w"> </span><span class="s1">&#39;amos&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{a&#39;}</span><span class="s1">bamos&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{i&#39;}</span><span class="s1">amos&#39;</span><span class="w"> </span><span class="s1">&#39;imos&#39;</span>
<span class="w">            </span><span class="s1">&#39;</span><span class="se">{a&#39;}</span><span class="s1">ramos&#39;</span><span class="w"> </span><span class="s1">&#39;i</span><span class="se">{e&#39;}</span><span class="s1">ramos&#39;</span><span class="w"> </span><span class="s1">&#39;i</span><span class="se">{e&#39;}</span><span class="s1">semos&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{a&#39;}</span><span class="s1">semos&#39;</span>
<span class="w">                </span><span class="p">(</span><span class="ow">delete</span><span class="p">)</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>

<span class="w">    </span><span class="kr">define</span><span class="w"> </span><span class="n">residual_suffix</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="w"> </span><span class="kr">among</span><span class="p">(</span>
<span class="w">            </span><span class="s1">&#39;os&#39;</span>
<span class="w">            </span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="s1">&#39;o&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{a&#39;}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{i&#39;}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{o&#39;}</span><span class="s1">&#39;</span>
<span class="w">                </span><span class="p">(</span><span class="w"> </span><span class="n">RV</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="p">)</span>
<span class="w">            </span><span class="s1">&#39;e&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{e&#39;}</span><span class="s1">&#39;</span>
<span class="w">                </span><span class="p">(</span><span class="w"> </span><span class="n">RV</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="ow">try</span><span class="p">(</span><span class="w"> </span><span class="o">[</span><span class="s1">&#39;u&#39;</span><span class="o">]</span><span class="w"> </span><span class="ow">test</span><span class="w"> </span><span class="s1">&#39;g&#39;</span><span class="w"> </span><span class="n">RV</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>
<span class="p">)</span>

<span class="kr">define</span><span class="w"> </span><span class="n">stem</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ow">do</span><span class="w"> </span><span class="n">mark_regions</span>
<span class="w">    </span><span class="ow">backwards</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="ow">do</span><span class="w"> </span><span class="n">attached_pronoun</span>
<span class="w">        </span><span class="ow">do</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">standard_suffix</span><span class="w"> </span><span class="ow">or</span>
<span class="w">             </span><span class="n">y_verb_suffix</span><span class="w"> </span><span class="ow">or</span>
<span class="w">             </span><span class="n">verb_suffix</span>
<span class="w">           </span><span class="p">)</span>
<span class="w">        </span><span class="ow">do</span><span class="w"> </span><span class="n">residual_suffix</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">    </span><span class="ow">do</span><span class="w"> </span><span class="n">postlude</span>
<span class="p">)</span>
</pre></div>


        </div><!-- /.col-lg-10 -->
      </div><!-- /.row -->
    </div><!-- /.container -->

    <div class="container">
      <footer class="footer">
        <p>
          <a href="/lists.html">Write to our mailing list</a> if you have comments or questions about the project.
        </p>
      </footer>
    </div> <!-- /container -->
    <script src="https://cdn.jsdelivr.net/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/bootstrap/4.4.1/js/bootstrap.min.js"></script>
  </body>
</html>
