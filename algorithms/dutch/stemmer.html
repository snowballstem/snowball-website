<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="/favicon.ico">
    <title>Dutch stemming algorithm - Snowball</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link href="/styles.css" rel="stylesheet">
  </head>

  <body>

    <!-- Static navbar -->
    <nav class="navbar navbar-default navbar-static-top bg-light">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a href="/" class="float-left"><img src="/snub-dodecahedron.gif" alt="Snowball Logo" style="margin: 4px; height: 42px;"></a>
          <a class="navbar-brand" href="/">Snowball</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="/">Home</a></li>
            <li><a href="/credits.html">Credits</a></li>
          </ul>
	  <span id="forkongithub"><a href="https://github.com/snowballstem/snowball">Fork me on GitHub</a></span>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">
      <div class="row">
        <div class="col-lg-2">
          
        </div>
        <div class="col-lg-10">
          <h1>Dutch stemming algorithm</h1>


<h2>Links to resources</h2>

<ul>
<li> <A HREF="/algorithms/germanic.html"> Germanic language stemmers</A>
<li> <a href="/demo.html#Dutch_porter">Javascript demo</a></li>
<li> <a href="https://raw.githubusercontent.com/snowballstem/snowball/master/algorithms/dutch_porter.sbl">The stemmer in Snowball</a></li>
<li> <a href="https://raw.githubusercontent.com/snowballstem/snowball-data/master/dutch_porter/voc.txt">Sample Dutch vocabulary</a></li>
<li> <a href="https://raw.githubusercontent.com/snowballstem/snowball-data/master/dutch_porter/output.txt">Its stemmed equivalent</a></li>
</ul>

<p>
Here is a sample of Dutch vocabulary, with the stemmed forms that will be generated by this algorithm:
</p>

<div style="background-color:lightpink">
<TABLE CELLPADDING=0>
<TR><TD>  <B>word</B> </TD>
 <TD></TD><TD> </TD>
 <TD></TD><TD> <B>stem</B> </TD>
 <TD></TD><TD>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
 <TD></TD><TD> <B>word</B> </TD>
 <TD></TD><TD> </TD>
 <TD></TD><TD> <B>stem</B> </TD>
</TR>

<TR><TD>
lichaamsziek<BR>
lichamelijk<BR>
lichamelijke<BR>
lichamelijkheden<BR>
lichamen<BR>
lichere<BR>
licht<BR>
lichtbeeld<BR>
lichtbruin<BR>
lichtdoorlatende<BR>
lichte<BR>
lichten<BR>
lichtende<BR>
lichtenvoorde<BR>
lichter<BR>
lichtere<BR>
lichters<BR>
lichtgevoeligheid<BR>
lichtgewicht<BR>
lichtgrijs<BR>
lichthoeveelheid<BR>
lichtintensiteit<BR>
lichtje<BR>
lichtjes<BR>
lichtkranten<BR>
lichtkring<BR>
lichtkringen<BR>
lichtregelsystemen<BR>
lichtste<BR>
lichtstromende<BR>
lichtte<BR>
lichtten<BR>
lichttoetreding<BR>
lichtverontreinigde<BR>
lichtzinnige<BR>
lid<BR>
lidia<BR>
lidmaatschap<BR>
lidstaten<BR>
lidvereniging<BR>
</TD>
<TD></TD><TD> <b>&#x21d2;</b> </TD>
<TD></TD><TD>
lichaamsziek<BR>
licham<BR>
licham<BR>
licham<BR>
licham<BR>
licher<BR>
licht<BR>
lichtbeeld<BR>
lichtbruin<BR>
lichtdoorlat<BR>
licht<BR>
licht<BR>
lichtend<BR>
lichtenvoord<BR>
lichter<BR>
lichter<BR>
lichter<BR>
lichtgevoel<BR>
lichtgewicht<BR>
lichtgrijs<BR>
lichthoevel<BR>
lichtintensiteit<BR>
lichtj<BR>
lichtjes<BR>
lichtkrant<BR>
lichtkring<BR>
lichtkring<BR>
lichtregelsystem<BR>
lichtst<BR>
lichtstrom<BR>
licht<BR>
licht<BR>
lichttoetred<BR>
lichtverontreinigd<BR>
lichtzinn<BR>
lid<BR>
lidia<BR>
lidmaatschap<BR>
lidstat<BR>
lidveren<BR>
</TD>
<TD></TD><TD> </TD>
<TD></TD><TD>
opgingen<BR>
opglanzing<BR>
opglanzingen<BR>
opglimlachten<BR>
opglimpen<BR>
opglimpende<BR>
opglimping<BR>
opglimpingen<BR>
opgraven<BR>
opgrijnzen<BR>
opgrijzende<BR>
opgroeien<BR>
opgroeiende<BR>
opgroeiplaats<BR>
ophaal<BR>
ophaaldienst<BR>
ophaalkosten<BR>
ophaalsystemen<BR>
ophaalt<BR>
ophaaltruck<BR>
ophalen<BR>
ophalend<BR>
ophalers<BR>
ophef<BR>
opheffen<BR>
opheffende<BR>
opheffing<BR>
opheldering<BR>
ophemelde<BR>
ophemelen<BR>
opheusden<BR>
ophief<BR>
ophield<BR>
ophieven<BR>
ophoepelt<BR>
ophoog<BR>
ophoogzand<BR>
ophopen<BR>
ophoping<BR>
ophouden<BR>
</TD>
<TD></TD><TD> <b>&#x21d2;</b> </TD>
<TD></TD><TD>
opging<BR>
opglanz<BR>
opglanz<BR>
opglimlacht<BR>
opglimp<BR>
opglimp<BR>
opglimp<BR>
opglimp<BR>
opgrav<BR>
opgrijnz<BR>
opgrijz<BR>
opgroei<BR>
opgroei<BR>
opgroeiplat<BR>
ophal<BR>
ophaaldienst<BR>
ophaalkost<BR>
ophaalsystem<BR>
ophaalt<BR>
ophaaltruck<BR>
ophal<BR>
ophal<BR>
ophaler<BR>
ophef<BR>
opheff<BR>
opheff<BR>
opheff<BR>
ophelder<BR>
ophemeld<BR>
ophemel<BR>
opheusd<BR>
ophief<BR>
ophield<BR>
ophiev<BR>
ophoepelt<BR>
ophog<BR>
ophoogzand<BR>
ophop<BR>
ophop<BR>
ophoud<BR>
</TD>
</TR>
</TABLE>
</div>

<h2>The stemming algorithm</h2>

Dutch includes the following accented forms
<DL><DD>
    <B><I>ä  &nbsp;  ë  &nbsp;  ï  &nbsp;  ö  &nbsp;  ü  &nbsp;  á  &nbsp;  é  &nbsp;  í  &nbsp;  ó  &nbsp;  ú  &nbsp;  è</I></B>
</DL>
First, remove all umlaut and acute accents listed above. A vowel is then one of,
<DL><DD>
    <B><I>a  &nbsp;  e  &nbsp;  i  &nbsp;  o  &nbsp;  u  &nbsp;  y  &nbsp;  è</I></B>
</DL>
Put initial <B><I>y</I></B>, <B><I>y</I></B> after a vowel, and
<B><I>i</I></B> between vowels into upper case. <I>R</I>1 and
<I>R</I>2
(see the <A HREF="../../texts/r1r2.html"> note</A> on <I>R</I>1 and <I>R</I>2)
are then defined as in German.
<BR><BR>
Define a valid <B><I>s</I></B>-ending as a non-vowel other than <B><I>j</I></B>.
<BR><BR>
Define a valid <B><I>en</I></B>-ending as a non-vowel, and not <B><I>gem</I></B>.
<BR><BR>
Define undoubling the ending as removing the last letter if the word ends
<B><I>kk</I></B>, <B><I>dd</I></B> or <B><I>tt</I></B>.
<BR><BR>
Do each of steps 1, 2 3 and 4.
<BR><BR>
Step 1:
<DL><DD>
    Search for the longest among the following suffixes, and perform the
    action indicated
<BR><BR>
<DL>
    <DT>(<I>a</I>) <B><I>heden</I></B>
        <DD>replace with <B><I>heid</I></B> if in <I>R</I>1
<BR><BR>
    <DT>(<I>b</I>) <B><I>en  &nbsp;  ene</I></B>
        <DD>delete if in <I>R</I>1 and preceded by a valid <B><I>en</I></B>-ending, and then
        undouble the ending
<BR><BR>
    <DT>(<I>c</I>) <B><I>s  &nbsp;  se</I></B>
        <DD>delete if in <I>R</I>1 and preceded by a valid <B><I>s</I></B>-ending
</DL>
</DL>
Step 2:
<DL><DD>
    Delete suffix <B><I>e</I></B> if in <I>R</I>1 and preceded by a non-vowel, and then undouble
    the ending
</DL>
Step 3a: <B><I>heid</I></B>
<DL><DD>
    delete <B><I>heid</I></B> if in <I>R</I>2 and not preceded by <B><I>c</I></B>, and treat a preceding
    <B><I>en</I></B> as in step 1(<I>b</I>)
</DL>
Step 3b: <I>d</I>-suffixes <A HREF="../../texts/glossary.html">(*)</A>
<DL><DD>
    Search for the longest among the following suffixes, and perform the
    action indicated.
<BR><BR>
<DL>
    <DT><B><I>end  &nbsp;  ing</I></B>
        <DD>delete if in <I>R</I>2
        <DD>if preceded by <B><I>ig</I></B>, delete if in <I>R</I>2 and not preceded by <B><I>e</I></B>, otherwise
        undouble the ending
<BR><BR>
    <DT><B><I>ig</I></B>
        <DD>delete if in <I>R</I>2 and not preceded by <B><I>e</I></B>
<BR><BR>
    <DT><B><I>lijk</I></B>
        <DD>delete if in <I>R</I>2, and then repeat step 2
<BR><BR>
    <DT><B><I>baar</I></B>
        <DD>delete if in <I>R</I>2
<BR><BR>
    <DT><B><I>bar</I></B>
        <DD>delete if in <I>R</I>2 and if step 2 actually removed an <B><I>e</I></B>
</DL>
</DL>
Step 4: undouble vowel
<DL><DD>
    If the words ends <I>CVD</I>, where <I>C</I> is a non-vowel, <I>D</I> is a non-vowel other
    than <B><I>I</I></B>, and <I>V</I> is double <B><I>a</I></B>, <B><I>e</I></B>, <B><I>o</I></B> or <B><I>u</I></B>, remove one of the vowels from
    <I>V</I> (for example, <I>maan</I> &#x2192; <I>man</I>, <I>brood</I> &#x2192; <I>brod</I>).
</DL>
Finally,
<DL><DD>
    Turn <B><I>I</I></B> and <B><I>Y</I></B> back into lower case.
</DL>

<h2>The same algorithm in Snowball</h2>

<div class="highlight"><pre><span class="c1">// Dutch stemming algorithm developed by Martin Porter</span>

<span class="kr">routines</span><span class="w"> </span><span class="p">(</span>
<span class="w">           </span><span class="n">prelude</span><span class="w"> </span><span class="n">postlude</span>
<span class="w">           </span><span class="n">e_ending</span>
<span class="w">           </span><span class="n">en_ending</span>
<span class="w">           </span><span class="n">mark_regions</span>
<span class="w">           </span><span class="n">R1</span><span class="w"> </span><span class="n">R2</span>
<span class="w">           </span><span class="n">undouble</span>
<span class="w">           </span><span class="n">standard_suffix</span>
<span class="p">)</span>

<span class="kr">externals</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">stem</span><span class="w"> </span><span class="p">)</span>

<span class="kr">booleans</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">e_found</span><span class="w"> </span><span class="p">)</span>

<span class="kr">integers</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="n">p2</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">)</span>

<span class="kr">groupings</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">v_I</span><span class="w"> </span><span class="n">v_j</span><span class="w"> </span><span class="p">)</span>

<span class="kr">stringescapes</span><span class="w"> </span><span class="se">{}</span>

<span class="cm">/* special characters */</span>

<span class="kr">stringdef</span><span class="w"> </span><span class="se">a&quot;</span><span class="w">   </span><span class="s1">&#39;</span><span class="se">{U+00E4}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">e&quot;</span><span class="w">   </span><span class="s1">&#39;</span><span class="se">{U+00EB}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">i&quot;</span><span class="w">   </span><span class="s1">&#39;</span><span class="se">{U+00EF}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">o&quot;</span><span class="w">   </span><span class="s1">&#39;</span><span class="se">{U+00F6}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">u&quot;</span><span class="w">   </span><span class="s1">&#39;</span><span class="se">{U+00FC}</span><span class="s1">&#39;</span>

<span class="kr">stringdef</span><span class="w"> </span><span class="se">a&#39;</span><span class="w">   </span><span class="s1">&#39;</span><span class="se">{U+00E1}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">e&#39;</span><span class="w">   </span><span class="s1">&#39;</span><span class="se">{U+00E9}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">i&#39;</span><span class="w">   </span><span class="s1">&#39;</span><span class="se">{U+00ED}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">o&#39;</span><span class="w">   </span><span class="s1">&#39;</span><span class="se">{U+00F3}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">u&#39;</span><span class="w">   </span><span class="s1">&#39;</span><span class="se">{U+00FA}</span><span class="s1">&#39;</span>

<span class="kr">stringdef</span><span class="w"> </span><span class="se">e`</span><span class="w">   </span><span class="s1">&#39;</span><span class="se">{U+00E8}</span><span class="s1">&#39;</span>

<span class="kr">define</span><span class="w"> </span><span class="n">v</span><span class="w">       </span><span class="s1">&#39;aeiouy</span><span class="se">{e`}</span><span class="s1">&#39;</span>
<span class="kr">define</span><span class="w"> </span><span class="n">v_I</span><span class="w">     </span><span class="n">v</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;I&#39;</span>
<span class="kr">define</span><span class="w"> </span><span class="n">v_j</span><span class="w">     </span><span class="n">v</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;j&#39;</span>

<span class="kr">define</span><span class="w"> </span><span class="n">prelude</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ow">test</span><span class="w"> </span><span class="ow">repeat</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="w"> </span><span class="kr">among</span><span class="p">(</span>
<span class="w">            </span><span class="s1">&#39;</span><span class="se">{a&quot;}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{a&#39;}</span><span class="s1">&#39;</span>
<span class="w">                </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="w">            </span><span class="s1">&#39;</span><span class="se">{e&quot;}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{e&#39;}</span><span class="s1">&#39;</span>
<span class="w">                </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;e&#39;</span><span class="p">)</span>
<span class="w">            </span><span class="s1">&#39;</span><span class="se">{i&quot;}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{i&#39;}</span><span class="s1">&#39;</span>
<span class="w">                </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;i&#39;</span><span class="p">)</span>
<span class="w">            </span><span class="s1">&#39;</span><span class="se">{o&quot;}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{o&#39;}</span><span class="s1">&#39;</span>
<span class="w">                </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="w">            </span><span class="s1">&#39;</span><span class="se">{u&quot;}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{u&#39;}</span><span class="s1">&#39;</span>
<span class="w">                </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;u&#39;</span><span class="p">)</span>
<span class="w">            </span><span class="s1">&#39;&#39;</span><span class="w">  </span><span class="p">(</span><span class="ow">next</span><span class="p">)</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">    </span><span class="ow">try</span><span class="p">(</span><span class="o">[</span><span class="s1">&#39;y&#39;</span><span class="o">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;Y&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="ow">repeat</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="ow">gopast</span><span class="w"> </span><span class="n">v</span>
<span class="w">        </span><span class="ow">try</span><span class="w"> </span><span class="p">(</span>
<span class="w">            </span><span class="c1">// If we see `i` not followed by a vowel then we know it couldn&#39;t</span>
<span class="w">            </span><span class="c1">// match on the next iteration so we can advance past it.</span>
<span class="w">            </span><span class="c1">//</span>
<span class="w">            </span><span class="c1">// However if we replace `i` with `I` we do need to check the vowel</span>
<span class="w">            </span><span class="c1">// after the `i` in the next iteration to match the documented</span>
<span class="w">            </span><span class="c1">// behaviour, e.g. consider input `iiiii`.  This may well not make</span>
<span class="w">            </span><span class="c1">// a difference for any actual Dutch words though.</span>
<span class="w">            </span><span class="o">[</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="o">]</span><span class="w"> </span><span class="ow">do</span><span class="p">(</span><span class="n">v</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;I&#39;</span><span class="p">))</span><span class="w"> </span><span class="ow">or</span>
<span class="w">             </span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="o">]</span><span class="w">      </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;Y&#39;</span><span class="p">)</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>
<span class="p">)</span>

<span class="kr">define</span><span class="w"> </span><span class="n">mark_regions</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>

<span class="w">    </span><span class="o">$</span><span class="n">p1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">limit</span>
<span class="w">    </span><span class="o">$</span><span class="n">p2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">limit</span>

<span class="w">    </span><span class="ow">test</span><span class="p">(</span><span class="ow">hop</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="ow">setmark</span><span class="w"> </span><span class="n">x</span><span class="p">)</span>

<span class="w">    </span><span class="ow">gopast</span><span class="w"> </span><span class="n">v</span><span class="w">  </span><span class="ow">gopast</span><span class="w"> </span><span class="ow">non</span><span class="o">-</span><span class="n">v</span><span class="w">  </span><span class="ow">setmark</span><span class="w"> </span><span class="n">p1</span>
<span class="w">    </span><span class="ow">try</span><span class="p">(</span><span class="o">$</span><span class="n">p1</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">x</span><span class="w">  </span><span class="o">$</span><span class="n">p1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w">  </span><span class="c1">// at least 3</span>
<span class="w">    </span><span class="ow">gopast</span><span class="w"> </span><span class="n">v</span><span class="w">  </span><span class="ow">gopast</span><span class="w"> </span><span class="ow">non</span><span class="o">-</span><span class="n">v</span><span class="w">  </span><span class="ow">setmark</span><span class="w"> </span><span class="n">p2</span>

<span class="p">)</span>

<span class="kr">define</span><span class="w"> </span><span class="n">postlude</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="ow">repeat</span><span class="w"> </span><span class="p">(</span>

<span class="w">    </span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="w"> </span><span class="kr">among</span><span class="p">(</span>
<span class="w">        </span><span class="s1">&#39;Y&#39;</span><span class="w">  </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="w">        </span><span class="s1">&#39;I&#39;</span><span class="w">  </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;i&#39;</span><span class="p">)</span>
<span class="w">        </span><span class="s1">&#39;&#39;</span><span class="w">   </span><span class="p">(</span><span class="ow">next</span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>

<span class="p">)</span>

<span class="kr">backwardmode</span><span class="w"> </span><span class="p">(</span>

<span class="w">    </span><span class="kr">define</span><span class="w"> </span><span class="n">R1</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="o">$</span><span class="n">p1</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="nb">cursor</span>
<span class="w">    </span><span class="kr">define</span><span class="w"> </span><span class="n">R2</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="o">$</span><span class="n">p2</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="nb">cursor</span>

<span class="w">    </span><span class="kr">define</span><span class="w"> </span><span class="n">undouble</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="ow">test</span><span class="w"> </span><span class="kr">among</span><span class="p">(</span><span class="s1">&#39;kk&#39;</span><span class="w"> </span><span class="s1">&#39;dd&#39;</span><span class="w"> </span><span class="s1">&#39;tt&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">[</span><span class="ow">next</span><span class="o">]</span><span class="w"> </span><span class="ow">delete</span>
<span class="w">    </span><span class="p">)</span>

<span class="w">    </span><span class="kr">define</span><span class="w"> </span><span class="n">e_ending</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="ow">unset</span><span class="w"> </span><span class="n">e_found</span>
<span class="w">        </span><span class="o">[</span><span class="s1">&#39;e&#39;</span><span class="o">]</span><span class="w"> </span><span class="n">R1</span><span class="w"> </span><span class="ow">test</span><span class="w"> </span><span class="ow">non</span><span class="o">-</span><span class="n">v</span><span class="w"> </span><span class="ow">delete</span>
<span class="w">        </span><span class="ow">set</span><span class="w"> </span><span class="n">e_found</span>
<span class="w">        </span><span class="n">undouble</span>
<span class="w">    </span><span class="p">)</span>

<span class="w">    </span><span class="kr">define</span><span class="w"> </span><span class="n">en_ending</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="n">R1</span><span class="w"> </span><span class="ow">non</span><span class="o">-</span><span class="n">v</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="s1">&#39;gem&#39;</span><span class="w"> </span><span class="ow">delete</span>
<span class="w">        </span><span class="n">undouble</span>
<span class="w">    </span><span class="p">)</span>

<span class="w">    </span><span class="kr">define</span><span class="w"> </span><span class="n">standard_suffix</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="ow">do</span><span class="w"> </span><span class="p">(</span>
<span class="w">            </span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="w"> </span><span class="kr">among</span><span class="p">(</span>
<span class="w">                </span><span class="s1">&#39;heden&#39;</span>
<span class="w">                </span><span class="p">(</span><span class="w">   </span><span class="n">R1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;heid&#39;</span>
<span class="w">                </span><span class="p">)</span>
<span class="w">                </span><span class="s1">&#39;en&#39;</span><span class="w"> </span><span class="s1">&#39;ene&#39;</span>
<span class="w">                </span><span class="p">(</span><span class="w">   </span><span class="n">en_ending</span>
<span class="w">                </span><span class="p">)</span>
<span class="w">                </span><span class="s1">&#39;s&#39;</span><span class="w"> </span><span class="s1">&#39;se&#39;</span>
<span class="w">                </span><span class="p">(</span><span class="w">   </span><span class="n">R1</span><span class="w"> </span><span class="ow">non</span><span class="o">-</span><span class="n">v_j</span><span class="w"> </span><span class="ow">delete</span>
<span class="w">                </span><span class="p">)</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">        </span><span class="ow">do</span><span class="w"> </span><span class="n">e_ending</span>

<span class="w">        </span><span class="ow">do</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">[</span><span class="s1">&#39;heid&#39;</span><span class="o">]</span><span class="w"> </span><span class="n">R2</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="s1">&#39;c&#39;</span><span class="w"> </span><span class="ow">delete</span>
<span class="w">             </span><span class="o">[</span><span class="s1">&#39;en&#39;</span><span class="o">]</span><span class="w"> </span><span class="n">en_ending</span>
<span class="w">           </span><span class="p">)</span>

<span class="w">        </span><span class="ow">do</span><span class="w"> </span><span class="p">(</span>
<span class="w">            </span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="w"> </span><span class="kr">among</span><span class="p">(</span>
<span class="w">                </span><span class="s1">&#39;end&#39;</span><span class="w"> </span><span class="s1">&#39;ing&#39;</span>
<span class="w">                </span><span class="p">(</span><span class="w">   </span><span class="n">R2</span><span class="w"> </span><span class="ow">delete</span>
<span class="w">                    </span><span class="p">(</span><span class="o">[</span><span class="s1">&#39;ig&#39;</span><span class="o">]</span><span class="w"> </span><span class="n">R2</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="s1">&#39;e&#39;</span><span class="w"> </span><span class="ow">delete</span><span class="p">)</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">undouble</span>
<span class="w">                </span><span class="p">)</span>
<span class="w">                </span><span class="s1">&#39;ig&#39;</span>
<span class="w">                </span><span class="p">(</span><span class="w">   </span><span class="n">R2</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="s1">&#39;e&#39;</span><span class="w"> </span><span class="ow">delete</span>
<span class="w">                </span><span class="p">)</span>
<span class="w">                </span><span class="s1">&#39;lijk&#39;</span>
<span class="w">                </span><span class="p">(</span><span class="w">   </span><span class="n">R2</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="n">e_ending</span>
<span class="w">                </span><span class="p">)</span>
<span class="w">                </span><span class="s1">&#39;baar&#39;</span>
<span class="w">                </span><span class="p">(</span><span class="w">   </span><span class="n">R2</span><span class="w"> </span><span class="ow">delete</span>
<span class="w">                </span><span class="p">)</span>
<span class="w">                </span><span class="s1">&#39;bar&#39;</span>
<span class="w">                </span><span class="p">(</span><span class="w">   </span><span class="n">R2</span><span class="w"> </span><span class="n">e_found</span><span class="w"> </span><span class="ow">delete</span>
<span class="w">                </span><span class="p">)</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">        </span><span class="ow">do</span><span class="w"> </span><span class="p">(</span>
<span class="w">            </span><span class="ow">non</span><span class="o">-</span><span class="n">v_I</span>
<span class="w">            </span><span class="ow">test</span><span class="w"> </span><span class="p">(</span>
<span class="w">                </span><span class="kr">among</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;aa&#39;</span><span class="w"> </span><span class="s1">&#39;ee&#39;</span><span class="w"> </span><span class="s1">&#39;oo&#39;</span><span class="w"> </span><span class="s1">&#39;uu&#39;</span><span class="p">)</span>
<span class="w">                </span><span class="ow">non</span><span class="o">-</span><span class="n">v</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">            </span><span class="o">[</span><span class="ow">next</span><span class="o">]</span><span class="w"> </span><span class="ow">delete</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>
<span class="p">)</span>

<span class="kr">define</span><span class="w"> </span><span class="n">stem</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>

<span class="w">        </span><span class="ow">do</span><span class="w"> </span><span class="n">prelude</span>
<span class="w">        </span><span class="ow">do</span><span class="w"> </span><span class="n">mark_regions</span>
<span class="w">        </span><span class="ow">backwards</span>
<span class="w">            </span><span class="ow">do</span><span class="w"> </span><span class="n">standard_suffix</span>
<span class="w">        </span><span class="ow">do</span><span class="w"> </span><span class="n">postlude</span>
<span class="p">)</span>
</pre></div>


        </div><!-- /.col-lg-10 -->
      </div><!-- /.row -->
    </div><!-- /.container -->

    <div class="container">
      <footer class="footer">
        <p>
          <a href="/lists.html">Write to our mailing list</a> if you have comments or questions about the project.
        </p>
      </footer>
    </div> <!-- /container -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  </body>
</html>
