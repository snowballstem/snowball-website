<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="/favicon.ico">
    <title>Yiddish stemming algorithm - Snowball</title>
    <link href="https://cdn.jsdelivr.net/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
    <link href="/styles.css" rel="stylesheet">
    <!--[if lt IE 9]>
      <script src="https://cdn.jsdelivr.net/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://cdn.jsdelivr.net/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <!-- Static navbar -->
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a href="/" class="pull-left"><img src="/snub-dodecahedron.gif" alt="Snowball Logo" style="margin: 4px; height: 42px;"></a>
          <a class="navbar-brand" href="/">Snowball</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="/">Home</a></li>
            <li><a href="/credits.html">Credits</a></li>
          </ul>
	  <span id="forkongithub"><a href="https://github.com/snowballstem/snowball">Fork me on GitHub</a></span>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">
      <div class="row">
        <div class="col-md-2">
          
        </div>
        <div class="col-md-10">
          <h1>Yiddish stemming algorithm</h1>


<h2>Links to resources</h2>

<ul>
<li> <A HREF="/algorithms/germanic.html"> Germanic language stemmers</A></li>
<li> <a href="/demo.html#Yiddish">Javascript demo</a></li>
<li> <a href="https://raw.githubusercontent.com/snowballstem/snowball/master/algorithms/yiddish.sbl">The stemmer in Snowball</a></li>
<li> <a href="https://raw.githubusercontent.com/snowballstem/snowball-data/master/yiddish/voc.txt">Sample Yiddish vocabulary</a></li>
<li> <a href="https://raw.githubusercontent.com/snowballstem/snowball-data/master/yiddish/output.txt">Its stemmed equivalent</a></li>
</ul>

<p>
Here is a sample of Yiddish vocabulary, with the stemmed forms that will be generated by this algorithm:
</p>

<div style="background-color:lightpink">
<TABLE CELLPADDING=0>
<TR><TD>  <B>word</B> </TD>
 <TD></TD><TD> </TD>
 <TD></TD><TD> <B>stem</B> </TD>
 <TD></TD><TD>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
 <TD></TD><TD> <B>word</B> </TD>
 <TD></TD><TD> </TD>
 <TD></TD><TD> <B>stem</B> </TD>
</TR>

<TR><TD>
אַװעקבלאָנדזשען<BR>
אַװעקבלאָנדזשענדיק<BR>
אַװעקבלאָנדזשענדיקן<BR>
אַװעקבלאָנדזשענדיקס<BR>
אַװעקבלאָנדזשענדיקע<BR>
אַװעקבלאָנדזשענדיקער<BR>
אַװעקגײן<BR>
אַװעקגײנדיק<BR>
אַװעקגײנדיקן<BR>
אַװעקגײנדיקס<BR>
אַװעקגײנדיקע<BR>
אַװעקגײנדיקער<BR>
אַװעקגנבֿענען<BR>
אַװעקגנבֿענענדיק<BR>
אַװעקגנבֿענענדיקן<BR>
אַװעקגנבֿענענדיקס<BR>
אַװעקגנבֿענענדיקע<BR>
אַװעקגנבֿענענדיקער<BR>
אַװעקגעבלאָנדזשעט<BR>
אַװעקגעבלאָנדזשעטן<BR>
אַװעקגעבלאָנדזשעטס<BR>
אַװעקגעבלאָנדזשעטע<BR>
אַװעקגעבלאָנדזשעטער<BR>
אַװעקגעבן<BR>
אַװעקגעבנדיק<BR>
אַװעקגעבנדיקן<BR>
אַװעקגעבנדיקס<BR>
אַװעקגעבנדיקע<BR>
אַװעקגעבנדיקער<BR>
אַװעקגעגאַנגען<BR>
אַװעקגעגאַנגענס<BR>
אַװעקגעגאַנגענע<BR>
אַװעקגעגאַנגענעם<BR>
אַװעקגעגאַנגענער<BR>
אַװעקגעגנבֿעט<BR>
</TD>
<TD></TD><TD> <b>&#x21d2;</b> </TD>
<TD></TD><TD>
אװעקבלאנדזש<BR>
אװעקבלאנדזש<BR>
אװעקבלאנדזש<BR>
אװעקבלאנדזש<BR>
אװעקבלאנדזש<BR>
אװעקבלאנדזש<BR>
אװעקגײ<BR>
אװעקגײ<BR>
אװעקגײ<BR>
אװעקגײ<BR>
אװעקגײ<BR>
אװעקגײ<BR>
אװעקגנבענ<BR>
אװעקגנבענ<BR>
אװעקגנבענ<BR>
אװעקגנבענ<BR>
אװעקגנבענ<BR>
אװעקגנבענ<BR>
אװעקבלאנדזש<BR>
אװעקבלאנדזש<BR>
אװעקבלאנדזש<BR>
אװעקבלאנדזש<BR>
אװעקבלאנדזש<BR>
אװעקגעב<BR>
אװעקגעב<BR>
אװעקגעב<BR>
אװעקגעב<BR>
אװעקגעב<BR>
אװעקגעב<BR>
אװעקגײ<BR>
אװעקגײ<BR>
אװעקגײ<BR>
אװעקגײ<BR>
אװעקגײ<BR>
אװעקגנב<BR>
</TD>
<TD></TD><TD> </TD>
<TD></TD><TD>
אַבֿידות<BR>
אַבסטראַקטסטער<BR>
אַדורכבײַסנדיקער<BR>
אַדורכגעביסן<BR>
אַדורכגעשמועסט<BR>
אַדורכפֿירנדיק<BR>
אַװעקגעגאַנגען<BR>
אַװעקגעגאַנגענעם<BR>
אַװעקגענומענער<BR>
אמתדיק<BR>
אמתדיקן<BR>
אמתדיקע<BR>
אמתדיקער<BR>
באַהאַלטן<BR>
ביכער<BR>
געאַכלט<BR>
געאײַלט<BR>
געאײַלן<BR>
געבאָדענעם<BR>
געבאָטענעם<BR>
געשדכנטע<BR>
עראָפּלאַנען<BR>
פֿאַרגאַנגענהײט<BR>
פֿאָרױסגעגאַנגענע<BR>
קינדהײט<BR>
װילן<BR>
װילסט<BR>
</TD>
<TD></TD><TD> <b>&#x21d2;</b> </TD>
<TD></TD><TD>
אבידה<BR>
אבסטראקט<BR>
אדורכבײס<BR>
אדורכבײס<BR>
אדורכשמוע<BR>
אדורכפיר<BR>
אװעקגײ<BR>
אװעקגײ<BR>
אװעקנעמ<BR>
אמת<BR>
אמת<BR>
אמת<BR>
אמת<BR>
באהאל<BR>
ביכ<BR>
אכל<BR>
אײל<BR>
אײל<BR>
באד<BR>
באט<BR>
שדכנ<BR>
עראפלאנ<BR>
פארגאנגענ<BR>
פארױסגײ<BR>
קינד<BR>
װיל<BR>
װיל<BR>
</TD>
</TR>
</TABLE>
</div>

<h2>The stemming algorithm</h2>

<h3>Groupings</h3>
<p>We setup the following groupings:</p>

<dl>
  <dt>Niked</dt>
  <dd>All niked used in Yiddish and Hebrew</dd>
  <dt>AlefBeys</dt>
  <dd>
    All actual letters in the Hebrew alphabet, including:
    <ul>
    <li>The alphabet itself: א ב ג ד ה ו ז ח ט י כ ל מ נ ס ע פ צ ק ר ש ת</li>
    <li>Final consonants: ך ם ן ף ץ</li>
    <li>Ligatures: װ ױ ײ</li>
    </ul>
  </dd>
  <dt>Vowel</dt>
  <dd>א ו י ע ױ ײ</dd>
  <dt>Consonant</dt>
  <dd>AlefBeys - Vowel</dd>
</dl>

<h3>Pre-processing</h3>
<ul>
  <li>We replace two ו, where the second one is not וּ, with װ.</li>
  <li>We replace ו י, where the י is not a יִ, with ױ.</li>
  <li>We replace two י, where the second one is not a יִ, with ײ.</li>
  <li>We replace final forms (e.g. ץ) with their normal form (e.g. צ).</li>
  <li>We remove all niked.</li>
</ul>

<h3>Marking regions</h3>
<p>
  Only a single marker is used: P1.
  To begin with, this is set at the end of the word.
</p>

<ul>
  <li>If the word begins with גע (unless it begins געלט or געבן or is exactly גע) it is replaced with "GE" and the cursor is advanced.</li>
  <li>
    Next, if the word begins with any verbal prefix, the cursor is advanced past this prefix.
    Prefixes include (niked added for clarity, not included in algorithm):
  </li>
  <ul>
    <li>Free stressed: אַדורכ, דורכ, אַהינ, אַהער, אַװעק, מיט, אַנטקעגנ, אַקעגנ, אַנידער, אַראָפּ, אַרױס, אַרױפ, אַרומ, אַרײנ, אַרונטער, אַריבער, נאָכ, פאַרבײַ, אַהײמ, אַפיר, פאַרױס, פונאַנדער, צוזאַמענ, צונױפ, צוריק.</li>
    <li>Stressed: אױס, אױפ, אומ, אונטער, איבער, אײֲנ, אָנ, אָפּ, בײַ, פאָר, צו.</li>
    <li>Unstressed: אַנט, באַ, דער, צע</li>
  </ul>
  <li>If the verbal prefix is followed by גע (except for געבן), it is replaced with "GE" and the cursor is advanced (e.g. אַװעקגעגאַנגען).</li>
  <li>If the verbal prefix is followed by צו (except for צוגן, צוקט or צוקן with nothing afterwards), it is replaced with "TSU" and the cursor is advanced (e.g. אַרומצוגײן).</li>
</ul>

<p>We are now at the start of the main portion of the word (past any verbal prefix and past participle marker).</p>

<ul>
  <li>The following valid Yiddish three-consonant sequences are skipped: שפר, שטר, שטש, דזש.</li>
  <li>If there is a sequence of three consonants, the cursor is advanced past them, and P1 is marked.</li>
  <li>Otherwise, the cursor is advanced to the first vowel, and then up to the first non-vowel, minus 1, and P1 is marked.</li>
  <li>If P1 is not at least 3 letters beyond the main portion, it is advanced past the 3rd letter.</li>
</ul>

<h3>Backwards mode</h3>

<p>Unless otherwise stated, all deletes ensure we are beyond P1.</p>
<p>In each pass, at the first level of bullets, the longest matching suffix always wins.</p>

<p>First pass:</p>
<ul>
  <li>Delete plural/adjective endings: ער, ערס, ן, ס, ען, נס, ענערס, ענס, עס.</li>
  <ul>
    <li>Exceptions: יע is not deleted (e.g. אגיטאַציע), יעס becomes יע</li>
  </ul>
  <li>Delete plural/adjective endings: ענעם, ענער, ענע, ענס</li>
  <ul>
    <li>If preceded by an irregular past participle ending in ן, replace it with the stem, e.g. געגאַנגען becomes גײ.</li>
  </ul>
  <li>Delete the verb/past participle ending: ט.</li>
  <ul>
    <li>Because of the above, also delete noun/adjectives ending in טן, טע, טער, טס so that they stem identically to the equivalent noun with the ט.</li>
    <li>Similarly for past participles: -tns, -tene, -tenem, -tener טנס, טענע, טענעם, טענער</li>
    <li>If the ט was before P1, we try to perform the same action while leaving the ט in place</li>
    <li>At the same time, if preceded by an irregular past participles ending in ט, replace it with the stem, e.g. געבראַכט becomes ברענג.</li>
  </ul>
  <li>Delete the past participle endings: עט, עטן, עטס, עטע, עטער
  <li>Anything ending with גײן is transformed to גײ.</li>
  <li>Anything ending in an irregular past participle is corrected to the stem.</li>
  <li>Delete noun endings: ונג, הײט, קײט, יקײט, שאַפֿט.</li>
  <li>Delete noun endings: יזם, יזמס.</li>
  <li>Delete Hebraic plural ending: ים</li>
  <li>Replace the Hebraic plural ending ות with ה.</li>
  <li>Delete the diminutive endings: עלעך, עלע, לעך, עלעס, עלען.</li>
  <li>Delete the noun endings: יסט, יסטן.</li>
  <ul>
    <li>Exceptions to the above: words ending in גיסט or שיסט.</li>
  </ul>
  <li>Delete the verb ending סטו.</li>
  <li>Delete the superlative endings: סטער, סטע, סטן.</li>
  <li>Delete the verb ending: סט.</li>
</ul>

<p>Second pass - after the first pass, do the following to the remaining stem:</p>
<ul>
  <li>Delete noun endings: ונג, הײט, קײט, יקײט, שאַפֿט.</li>
  <li>Delete the diminutive ending ל if it follows a consonant.</li>
</ul>

<p>Third pass - after the second pass, do the following to the remaining stem:</p>
<ul>
  <li>Delete the adjective endings יק, יג, ניק, דיק, יש, for words like אָפהענגיקײט.</li>
  <ul>
    <li>Exceptions to the above: words ending in גליק or בליק.</li>
  </ul>
  <li>Delete the present participle ending: נדיק</li>
  <li>
    Delete the present participle ending ענדיק if it follows נג, נק, נ, מ, a consonant and ל or a vowel.
    Otherwise, delete just the נדיק portion.
  </li>
</ul>

Finally, all remaining GE and TSU are deleted.

<h2>History of functional changes to the algorithm</h2>

<ul>
<li>Snowball 2.1.0: Contributed by Assaf Urieli
<li>Snowball 3.0.0: Added an exception to not replace prefix גע with
GE גע is the entire input word.  This avoids generating an
empty stem in this case.
</ul>

<h2>The same algorithm in Snowball</h2>

<div class="highlight"><pre><span class="cm">/* *******************************************</span>
<span class="cm"> * Stemmer for Yiddish language in YIVO script</span>
<span class="cm"> *</span>
<span class="cm"> * Author: Assaf Urieli</span>
<span class="cm"> * Emails: assaf.urieli at gmail.com</span>
<span class="cm"> ********************************************* */</span>

<span class="kr">routines</span><span class="w"> </span><span class="p">(</span>
<span class="w">       </span><span class="n">prelude</span>
<span class="w">       </span><span class="n">mark_regions</span>
<span class="w">       </span><span class="n">R1</span>
<span class="w">       </span><span class="n">R1plus3</span>
<span class="w">       </span><span class="n">standard_suffix</span>
<span class="p">)</span>

<span class="kr">externals</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">stem</span><span class="w"> </span><span class="p">)</span>

<span class="kr">integers</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">)</span>

<span class="kr">groupings</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">vowel</span><span class="w"> </span><span class="n">niked</span><span class="w"> </span><span class="n">alefBeys</span><span class="w"> </span><span class="n">consonant</span><span class="w"> </span><span class="p">)</span>

<span class="kr">stringescapes</span><span class="w"> </span><span class="se">{}</span>

<span class="c1">// AlefBeys</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Alef</span><span class="w">         </span><span class="s1">&#39;</span><span class="se">{U+05D0}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Beys</span><span class="w">         </span><span class="s1">&#39;</span><span class="se">{U+05D1}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Giml</span><span class="w">         </span><span class="s1">&#39;</span><span class="se">{U+05D2}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Dalet</span><span class="w">        </span><span class="s1">&#39;</span><span class="se">{U+05D3}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Hey</span><span class="w">          </span><span class="s1">&#39;</span><span class="se">{U+05D4}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Vov</span><span class="w">          </span><span class="s1">&#39;</span><span class="se">{U+05D5}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Zayen</span><span class="w">        </span><span class="s1">&#39;</span><span class="se">{U+05D6}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Khes</span><span class="w">         </span><span class="s1">&#39;</span><span class="se">{U+05D7}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Tes</span><span class="w">          </span><span class="s1">&#39;</span><span class="se">{U+05D8}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Yud</span><span class="w">          </span><span class="s1">&#39;</span><span class="se">{U+05D9}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">LangerKhof</span><span class="w">   </span><span class="s1">&#39;</span><span class="se">{U+05DA}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Khof</span><span class="w">         </span><span class="s1">&#39;</span><span class="se">{U+05DB}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Lamed</span><span class="w">        </span><span class="s1">&#39;</span><span class="se">{U+05DC}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">ShlosMem</span><span class="w">     </span><span class="s1">&#39;</span><span class="se">{U+05DD}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Mem</span><span class="w">          </span><span class="s1">&#39;</span><span class="se">{U+05DE}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">LangerNun</span><span class="w">    </span><span class="s1">&#39;</span><span class="se">{U+05DF}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Nun</span><span class="w">          </span><span class="s1">&#39;</span><span class="se">{U+05E0}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Samekh</span><span class="w">       </span><span class="s1">&#39;</span><span class="se">{U+05E1}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Ayen</span><span class="w">         </span><span class="s1">&#39;</span><span class="se">{U+05E2}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">LangerFey</span><span class="w">    </span><span class="s1">&#39;</span><span class="se">{U+05E3}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Fey</span><span class="w">          </span><span class="s1">&#39;</span><span class="se">{U+05E4}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">LangerTsadek</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{U+05E5}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Tsadek</span><span class="w">       </span><span class="s1">&#39;</span><span class="se">{U+05E6}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Kuf</span><span class="w">          </span><span class="s1">&#39;</span><span class="se">{U+05E7}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Reysh</span><span class="w">        </span><span class="s1">&#39;</span><span class="se">{U+05E8}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Shin</span><span class="w">         </span><span class="s1">&#39;</span><span class="se">{U+05E9}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Sof</span><span class="w">          </span><span class="s1">&#39;</span><span class="se">{U+05EA}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">TsveyVovn</span><span class="w">    </span><span class="s1">&#39;</span><span class="se">{U+05F0}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">VovYud</span><span class="w">       </span><span class="s1">&#39;</span><span class="se">{U+05F1}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">TsveyYudn</span><span class="w">    </span><span class="s1">&#39;</span><span class="se">{U+05F2}</span><span class="s1">&#39;</span>

<span class="c1">// Niked</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Shvo</span><span class="w">          </span><span class="s1">&#39;</span><span class="se">{U+05B0}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Khirik</span><span class="w">        </span><span class="s1">&#39;</span><span class="se">{U+05B4}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Tseyre</span><span class="w">        </span><span class="s1">&#39;</span><span class="se">{U+05B5}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Segl</span><span class="w">          </span><span class="s1">&#39;</span><span class="se">{U+05B6}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">ReducedSegl</span><span class="w">   </span><span class="s1">&#39;</span><span class="se">{U+05B1}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Pasekh</span><span class="w">        </span><span class="s1">&#39;</span><span class="se">{U+05B7}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">ReducedPasekh</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{U+05B2}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Komets</span><span class="w">        </span><span class="s1">&#39;</span><span class="se">{U+05B8}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">ReducedKomets</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{U+05B3}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Rafe</span><span class="w">          </span><span class="s1">&#39;</span><span class="se">{U+05BF}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">SinDot</span><span class="w">        </span><span class="s1">&#39;</span><span class="se">{U+05C2}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">ShinDot</span><span class="w">       </span><span class="s1">&#39;</span><span class="se">{U+05C1}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Khoylm</span><span class="w">        </span><span class="s1">&#39;</span><span class="se">{U+05B9}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Melupm</span><span class="w">        </span><span class="s1">&#39;</span><span class="se">{U+05BC}</span><span class="s1">&#39;</span>
<span class="kr">stringdef</span><span class="w"> </span><span class="se">Kubuts</span><span class="w">        </span><span class="s1">&#39;</span><span class="se">{U+05BB}</span><span class="s1">&#39;</span>

<span class="c1">// Groupings</span>
<span class="kr">define</span><span class="w"> </span><span class="n">niked</span><span class="w">       </span><span class="s1">&#39;</span><span class="se">{Shvo}{Khirik}{Tseyre}{Segl}{ReducedSegl}{Pasekh}{ReducedPasekh}{Komets}{ReducedKomets}{SinDot}{ShinDot}{Khoylm}{Melupm}{Kubuts}{Rafe}</span><span class="s1">&#39;</span>
<span class="kr">define</span><span class="w"> </span><span class="n">alefBeys</span><span class="w">    </span><span class="s1">&#39;</span><span class="se">{Alef}{Beys}{Giml}{Dalet}{Hey}{Vov}{Zayen}{Khes}{Tes}{Yud}{LangerKhof}{Khof}{Lamed}{ShlosMem}{Mem}{LangerNun}{Nun}{Samekh}{Ayen}{LangerFey}{Fey}{LangerTsadek}{Tsadek}{Kuf}{Reysh}{Shin}{Sof}{TsveyVovn}{VovYud}{TsveyYudn}</span><span class="s1">&#39;</span>
<span class="kr">define</span><span class="w"> </span><span class="n">vowel</span><span class="w">           </span><span class="s1">&#39;</span><span class="se">{Alef}{Vov}{Yud}{Ayen}{VovYud}{TsveyYudn}</span><span class="s1">&#39;</span>
<span class="kr">define</span><span class="w"> </span><span class="n">consonant</span><span class="w">   </span><span class="n">alefBeys</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">vowel</span>

<span class="kr">define</span><span class="w"> </span><span class="n">prelude</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="ow">do</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ow">repeat</span><span class="w"> </span><span class="ow">goto</span><span class="w"> </span><span class="p">(</span>
<span class="w">      </span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="w"> </span><span class="kr">among</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Vov}{Vov}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Melupm}</span><span class="s1">&#39;</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{TsveyVovn}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">)</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Vov}{Yud}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Khirik}</span><span class="s1">&#39;</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{VovYud}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">)</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Yud}{Yud}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Khirik}</span><span class="s1">&#39;</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{TsveyYudn}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">)</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{LangerKhof}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Khof}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{ShlosMem}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Mem}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">)</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{LangerNun}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Nun}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">)</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{LangerFey}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Fey}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">)</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{LangerTsadek}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Tsadek}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">)</span>
<span class="w">      </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">  </span><span class="p">)</span>

<span class="w">  </span><span class="ow">do</span><span class="w"> </span><span class="p">(</span><span class="ow">repeat</span><span class="w"> </span><span class="ow">goto</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">[</span><span class="n">niked</span><span class="o">]</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="p">))</span>
<span class="p">)</span>

<span class="kr">define</span><span class="w"> </span><span class="n">mark_regions</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="o">$</span><span class="n">p1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">limit</span>

<span class="w">  </span><span class="p">(</span>
<span class="w">    </span><span class="ow">try</span><span class="w"> </span><span class="p">(</span>
<span class="w">      </span><span class="c1">// Replace past participle ge- at start of word</span>
<span class="w">      </span><span class="c1">// Unless word starts with gelt- or gebn- or the whole word is ge</span>
<span class="w">      </span><span class="o">[</span><span class="s1">&#39;</span><span class="se">{Giml}{Ayen}</span><span class="s1">&#39;</span><span class="o">]</span>
<span class="w">      </span><span class="ow">not</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;</span><span class="se">{Lamed}{Tes}</span><span class="s1">&#39;</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Beys}{Nun}</span><span class="s1">&#39;</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">atlimit</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;GE&#39;</span>
<span class="w">    </span><span class="p">)</span>

<span class="w">    </span><span class="ow">try</span><span class="w"> </span><span class="p">(</span>
<span class="w">      </span><span class="c1">// skip verbal prefix</span>
<span class="w">      </span><span class="kr">among</span><span class="p">(</span>
<span class="w">        </span><span class="c1">// Free stressed: Adurkh-, Durkh-, Ahin-, Aher-, Avek-, Mit-, Antkegn-, Akegn-, Anider-, Arop-, Aroys-, Aroyf-, Arum-, Arayn-, Arunter-, Ariber-, Nokh-, Farbay-, Aheym-, Afir-, Faroys-, Funander-, Tsuzamen-, Tsunoyf-, Tsurik-</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Alef}{Dalet}{Vov}{Reysh}{Khof}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Dalet}{Vov}{Reysh}{Khof}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Alef}{Hey}{Yud}{Nun}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Alef}{Hey}{Ayen}{Reysh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Alef}{TsveyVovn}{Ayen}{Kuf}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Mem}{Yud}{Tes}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Alef}{Nun}{Tes}{Kuf}{Ayen}{Giml}{Nun}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Alef}{Kuf}{Ayen}{Giml}{Nun}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Alef}{Nun}{Yud}{Dalet}{Ayen}{Reysh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Alef}{Reysh}{Alef}{Fey}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Alef}{Reysh}{VovYud}{Samekh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Alef}{Reysh}{VovYud}{Fey}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Alef}{Reysh}{Vov}{Mem}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Alef}{Reysh}{TsveyYudn}{Nun}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Alef}{Reysh}{Vov}{Nun}{Tes}{Ayen}{Reysh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Alef}{Reysh}{Yud}{Beys}{Ayen}{Reysh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Nun}{Alef}{Khof}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Fey}{Alef}{Reysh}{Beys}{TsveyYudn}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Alef}{Hey}{TsveyYudn}{Mem}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Alef}{Fey}{Yud}{Reysh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Fey}{Alef}{Reysh}{VovYud}{Samekh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Fey}{Vov}{Nun}{Alef}{Nun}{Dalet}{Ayen}{Reysh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Tsadek}{Vov}{Zayen}{Alef}{Mem}{Ayen}{Nun}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Tsadek}{Vov}{Nun}{VovYud}{Fey}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Tsadek}{Vov}{Reysh}{Yud}{Kuf}</span><span class="s1">&#39;</span>

<span class="w">        </span><span class="c1">// Stressed: Oys-, Oyf-, Um-, Unter-, Iber-, Ayn-, On-, Op-, Bay-, For-, Tsu-.</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Alef}{VovYud}{Samekh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Alef}{VovYud}{Fey}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Alef}{Vov}{Mem}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Alef}{Vov}{Nun}{Tes}{Ayen}{Reysh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Alef}{Yud}{Beys}{Ayen}{Reysh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Alef}{TsveyYudn}{Nun}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Alef}{Nun}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Alef}{Fey}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Beys}{TsveyYudn}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Fey}{Alef}{Reysh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Tsadek}{Vov}</span><span class="s1">&#39;</span>

<span class="w">        </span><span class="c1">// Unstressed:  Ant-, Ba-, Der-, Tse-. Far- already covered by For-. Ge- comes later.</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Alef}{Nun}{Tes}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Beys}{Alef}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Dalet}{Ayen}{Reysh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Tsadek}{Ayen}</span><span class="s1">&#39;</span>

<span class="w">        </span><span class="c1">// If verbal prefix followed by Tsu- or Ge-, replace it</span>
<span class="w">        </span><span class="p">(</span>
<span class="w">          </span><span class="c1">// Don&#39;t mark the TSU- prefix inside verbs like &quot;oys-tsugn&quot;</span>
<span class="w">          </span><span class="ow">test</span><span class="w"> </span><span class="p">((</span><span class="s1">&#39;</span><span class="se">{Tsadek}{Vov}{Giml}{Nun}</span><span class="s1">&#39;</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Tsadek}{Vov}{Kuf}{Tes}</span><span class="s1">&#39;</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Tsadek}{Vov}{Kuf}{Nun}</span><span class="s1">&#39;</span><span class="p">)</span><span class="w"> </span><span class="ow">atlimit</span><span class="p">)</span>
<span class="w">          </span><span class="ow">or</span>
<span class="w">          </span><span class="c1">// Don&#39;t mark the GE- prefix inside verbs like &quot;avek-gebn&quot;</span>
<span class="w">          </span><span class="ow">test</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;</span><span class="se">{Giml}{Ayen}{Beys}{Nun}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="w">          </span><span class="ow">or</span>
<span class="w">          </span><span class="p">(</span><span class="w"> </span><span class="o">[</span><span class="s1">&#39;</span><span class="se">{Giml}{Ayen}</span><span class="s1">&#39;</span><span class="o">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;GE&#39;</span><span class="p">)</span>
<span class="w">          </span><span class="ow">or</span>
<span class="w">          </span><span class="p">(</span><span class="o">[</span><span class="s1">&#39;</span><span class="se">{Tsadek}{Vov}</span><span class="s1">&#39;</span><span class="o">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;TSU&#39;</span><span class="p">)</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">      </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>

<span class="w">    </span><span class="ow">test</span><span class="p">(</span><span class="ow">hop</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="ow">setmark</span><span class="w"> </span><span class="n">x</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// We want to allow three-consonant Hebrew roots.</span>
<span class="w">    </span><span class="c1">// To this end, we skip three-consonant combinations that exist in non-Hebraic Yiddish.</span>
<span class="w">    </span><span class="ow">try</span><span class="w"> </span><span class="p">(</span>
<span class="w">      </span><span class="kr">among</span><span class="p">(</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Shin}{Fey}{Reysh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Shin}{Tes}{Reysh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Shin}{Tes}{Shin}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Dalet}{Zayen}{Shin}</span><span class="s1">&#39;</span>
<span class="w">          </span><span class="p">(</span><span class="w"> </span><span class="ow">true</span><span class="w"> </span><span class="p">)</span>
<span class="w">      </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>

<span class="w">    </span><span class="c1">// Either 3 consonants or the first non-vowel after a vowel</span>
<span class="w">    </span><span class="p">(</span>
<span class="w">      </span><span class="ow">not</span><span class="w"> </span><span class="p">(</span><span class="n">consonant</span><span class="w"> </span><span class="n">consonant</span><span class="w"> </span><span class="n">consonant</span><span class="w"> </span><span class="ow">setmark</span><span class="w"> </span><span class="n">p1</span><span class="p">)</span>
<span class="w">      </span><span class="ow">gopast</span><span class="w"> </span><span class="n">vowel</span><span class="w">  </span><span class="ow">goto</span><span class="w"> </span><span class="ow">non</span><span class="o">-</span><span class="n">vowel</span><span class="w">  </span><span class="ow">setmark</span><span class="w"> </span><span class="n">p1</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">    </span><span class="ow">try</span><span class="p">(</span><span class="o">$</span><span class="n">p1</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">x</span><span class="w">  </span><span class="o">$</span><span class="n">p1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w">  </span><span class="c1">// at least 3 past the prefix</span>
<span class="w">  </span><span class="p">)</span>

<span class="p">)</span>

<span class="kr">backwardmode</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="kr">define</span><span class="w"> </span><span class="n">R1</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="o">$</span><span class="n">p1</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="nb">cursor</span>
<span class="w">  </span><span class="c1">// Like R1, but also allows the cursor to be outside R1 by the width of Giml Yud Samekh</span>
<span class="w">  </span><span class="kr">define</span><span class="w"> </span><span class="n">R1plus3</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="o">$</span><span class="n">p1</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="nb">cursor</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ow">sizeof</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Giml}{Yud}{Samekh}</span><span class="s1">&#39;</span>

<span class="w">  </span><span class="kr">define</span><span class="w"> </span><span class="n">standard_suffix</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ow">do</span><span class="w"> </span><span class="p">(</span>
<span class="w">      </span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="w"> </span><span class="kr">among</span><span class="p">(</span>
<span class="w">        </span><span class="c1">// Plural/adjective endings: -er, -ers, -e, -n, -s, -en, -ns, -eners, -ens, -es</span>
<span class="w">         </span><span class="s1">&#39;</span><span class="se">{Ayen}{Reysh}{Samekh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Ayen}{Nun}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Nun}{Samekh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Ayen}{Nun}{Ayen}{Reysh}{Samekh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Ayen}{Samekh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Ayen}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Nun}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Samekh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Ayen}{Mem}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Ayen}{Reysh}</span><span class="s1">&#39;</span>
<span class="w">          </span><span class="p">(</span><span class="w"> </span><span class="n">R1</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="p">)</span>

<span class="w">        </span><span class="c1">// Exception: don&#39;t delete noun endings -ie, like &quot;agitatsie&quot;</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Yud}{Ayen}</span><span class="s1">&#39;</span>
<span class="w">          </span><span class="p">(</span><span class="w"> </span><span class="ow">true</span><span class="w"> </span><span class="p">)</span>

<span class="w">        </span><span class="c1">// -ies =&gt; ie</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Yud}{Ayen}{Samekh}</span><span class="s1">&#39;</span>
<span class="w">          </span><span class="p">(</span><span class="w"> </span><span class="n">R1</span><span class="w">  </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Yud}{Ayen}</span><span class="s1">&#39;</span><span class="w">  </span><span class="p">)</span>

<span class="w">        </span><span class="c1">// Plural/adjective endings: -enem, -ener, -ene, -ens</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Ayen}{Nun}{Ayen}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Ayen}{Nun}{Ayen}{Mem}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Ayen}{Nun}{Ayen}{Reysh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Ayen}{Nun}{Samekh}</span><span class="s1">&#39;</span>
<span class="w">          </span><span class="p">(</span><span class="n">R1</span><span class="w"> </span><span class="ow">delete</span>
<span class="w">            </span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="w"> </span><span class="kr">among</span><span class="w"> </span><span class="p">(</span>
<span class="w">              </span><span class="c1">// -gegangen =&gt; -gey</span>
<span class="w">              </span><span class="s1">&#39;</span><span class="se">{Giml}{Alef}{Nun}{Giml}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Giml}{TsveyYudn}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="w">              </span><span class="c1">// -genumen =&gt; -nem</span>
<span class="w">              </span><span class="s1">&#39;</span><span class="se">{Nun}{Vov}{Mem}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Nun}{Ayen}{Mem}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="w">              </span><span class="c1">// -gemiten =&gt; -mayd</span>
<span class="w">              </span><span class="s1">&#39;</span><span class="se">{Mem}{Yud}{Tes}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Mem}{TsveyYudn}{Dalet}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="w">              </span><span class="c1">// -gebiten =&gt; -bayt</span>
<span class="w">              </span><span class="s1">&#39;</span><span class="se">{Beys}{Yud}{Tes}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Beys}{TsveyYudn}{Tes}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="w">              </span><span class="c1">// -gebisen =&gt; -bays</span>
<span class="w">              </span><span class="s1">&#39;</span><span class="se">{Beys}{Yud}{Samekh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Beys}{TsveyYudn}{Samekh}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="w">              </span><span class="c1">// -gevizen =&gt; -vayz</span>
<span class="w">              </span><span class="s1">&#39;</span><span class="se">{TsveyVovn}{Yud}{Zayen}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{TsveyVovn}{TsveyYudn}{Zayen}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="w">              </span><span class="c1">// -getriben =&gt; -trayb</span>
<span class="w">              </span><span class="s1">&#39;</span><span class="se">{Tes}{Reysh}{Yud}{Beys}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Tes}{Reysh}{TsveyYudn}{Beys}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="w">              </span><span class="c1">// -geliten =&gt; -layt</span>
<span class="w">              </span><span class="s1">&#39;</span><span class="se">{Lamed}{Yud}{Tes}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Lamed}{TsveyYudn}{Tes}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="w">              </span><span class="c1">// -gekliben =&gt; -klayb</span>
<span class="w">              </span><span class="s1">&#39;</span><span class="se">{Kuf}{Lamed}{Yud}{Beys}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Kuf}{Lamed}{TsveyYudn}{Beys}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="w">              </span><span class="c1">// -geriben =&gt; -rayb</span>
<span class="w">              </span><span class="s1">&#39;</span><span class="se">{Reysh}{Yud}{Beys}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Reysh}{TsveyYudn}{Beys}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="w">              </span><span class="c1">// -gerisen =&gt; -rays</span>
<span class="w">              </span><span class="s1">&#39;</span><span class="se">{Reysh}{Yud}{Samekh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Reysh}{TsveyYudn}{Samekh}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="w">              </span><span class="c1">// -geshvigen =&gt; -shvayg</span>
<span class="w">              </span><span class="s1">&#39;</span><span class="se">{Shin}{TsveyVovn}{Yud}{Giml}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Shin}{TsveyVovn}{TsveyYudn}{Giml}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="w">              </span><span class="c1">// -geshmisen =&gt; -shmays</span>
<span class="w">              </span><span class="s1">&#39;</span><span class="se">{Shin}{Mem}{Yud}{Samekh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Shin}{Mem}{TsveyYudn}{Samekh}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="w">              </span><span class="c1">// -geshniten =&gt; -shnayd</span>
<span class="w">              </span><span class="s1">&#39;</span><span class="se">{Shin}{Nun}{Yud}{Tes}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Shin}{Nun}{TsveyYudn}{Dalet}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="w">              </span><span class="c1">// -geshriben =&gt; -shrayb</span>
<span class="w">              </span><span class="s1">&#39;</span><span class="se">{Shin}{Reysh}{Yud}{Beys}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Shin}{Reysh}{TsveyYudn}{Beys}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="w">              </span><span class="c1">// -gebunden =&gt; -bind</span>
<span class="w">              </span><span class="s1">&#39;</span><span class="se">{Beys}{Vov}{Nun}{Dalet}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Beys}{Yud}{Nun}{Dalet}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="w">              </span><span class="c1">// -gevuntshn =&gt; -vintsh</span>
<span class="w">              </span><span class="s1">&#39;</span><span class="se">{TsveyVovn}{Vov}{Tes}{Shin}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{TsveyVovn}{Yud}{Tes}{Shin}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="w">              </span><span class="c1">// -gezungen =&gt; -zing</span>
<span class="w">              </span><span class="s1">&#39;</span><span class="se">{Zayen}{Vov}{Nun}{Giml}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Zayen}{Yud}{Nun}{Giml}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="w">              </span><span class="c1">// -getrunken =&gt; -trink</span>
<span class="w">              </span><span class="s1">&#39;</span><span class="se">{Tes}{Reysh}{Vov}{Nun}{Kuf}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Tes}{Reysh}{Yud}{Nun}{Kuf}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="w">              </span><span class="c1">// -getsvungen =&gt; -tsving</span>
<span class="w">              </span><span class="s1">&#39;</span><span class="se">{Tsadek}{TsveyVovn}{Vov}{Nun}{Giml}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Tsadek}{TsveyVovn}{Yud}{Nun}{Giml}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="w">              </span><span class="c1">// -geshlungen =&gt; -shling</span>
<span class="w">              </span><span class="s1">&#39;</span><span class="se">{Shin}{Lamed}{Vov}{Nun}{Giml}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Shin}{Lamed}{Yud}{Nun}{Giml}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="w">              </span><span class="c1">// -geboygen =&gt; -beyg</span>
<span class="w">              </span><span class="s1">&#39;</span><span class="se">{Beys}{VovYud}{Giml}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Beys}{TsveyYudn}{Giml}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="w">              </span><span class="c1">// -gehoyben =&gt; -heyb</span>
<span class="w">              </span><span class="s1">&#39;</span><span class="se">{Hey}{VovYud}{Beys}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Hey}{TsveyYudn}{Beys}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="w">              </span><span class="c1">// -farloyren =&gt; -farlir</span>
<span class="w">              </span><span class="s1">&#39;</span><span class="se">{Fey}{Alef}{Reysh}{Lamed}{VovYud}{Reysh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Fey}{Alef}{Reysh}{Lamed}{Yud}{Reysh}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="w">              </span><span class="c1">// -shtanen =&gt; -shtey</span>
<span class="w">              </span><span class="s1">&#39;</span><span class="se">{Shin}{Tes}{Alef}{Nun}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Shin}{Tes}{TsveyYudn}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="w">              </span><span class="c1">// -geshvoyrn =&gt; -shver</span>
<span class="w">              </span><span class="s1">&#39;</span><span class="se">{Shin}{TsveyVovn}{VovYud}{Reysh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Shin}{TsveyVovn}{Ayen}{Reysh}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">         </span><span class="p">)</span>

<span class="w">        </span><span class="c1">// Verb/past participle ending: -t</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Tes}</span><span class="s1">&#39;</span>
<span class="w">          </span><span class="p">(</span><span class="w"> </span><span class="n">R1</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="p">)</span>

<span class="w">        </span><span class="c1">// As well as noun/adjectives ending in -tn, -te, -ter, -ts so that the &quot;-t&quot; doesn&#39;t differentiate</span>
<span class="w">        </span><span class="c1">// Similarly for past participles: -tns, -tene, -tenem, -tener</span>
<span class="w">        </span><span class="c1">// If the Tes was before R1, we try to perform the same action while leaving the Tes in place</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Tes}{Nun}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Tes}{Ayen}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Tes}{Ayen}{Reysh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Tes}{Samekh}</span><span class="s1">&#39;</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Tes}{Nun}{Samekh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Tes}{Ayen}{Nun}{Ayen}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Tes}{Ayen}{Nun}{Ayen}{Mem}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Tes}{Ayen}{Nun}{Ayen}{Reysh}</span><span class="s1">&#39;</span>
<span class="w">          </span><span class="p">(</span><span class="w"> </span><span class="p">((</span><span class="n">R1</span><span class="w"> </span><span class="ow">delete</span><span class="p">)</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Tes}</span><span class="s1">&#39;</span><span class="p">))</span>
<span class="w">            </span><span class="c1">// -(ge)brakht =&gt; -breng</span>
<span class="w">            </span><span class="o">[</span><span class="s1">&#39;</span><span class="se">{Beys}{Reysh}{Alef}{Khof}</span><span class="s1">&#39;</span><span class="w"> </span><span class="ow">try</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Giml}{Ayen}</span><span class="s1">&#39;</span><span class="o">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Beys}{Reysh}{Ayen}{Nun}{Giml}</span><span class="s1">&#39;</span>
<span class="w">          </span><span class="p">)</span>

<span class="w">        </span><span class="c1">// Past participles: -et, -etn, -ets, -ete, -eter</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Ayen}{Tes}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Ayen}{Tes}{Nun}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Ayen}{Tes}{Samekh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Ayen}{Tes}{Ayen}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Ayen}{Tes}{Ayen}{Reysh}</span><span class="s1">&#39;</span>
<span class="w">          </span><span class="p">(</span><span class="w"> </span><span class="n">R1</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="p">)</span>

<span class="w">        </span><span class="c1">// -geyn shorted to -gey</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Giml}{TsveyYudn}{Nun}</span><span class="s1">&#39;</span>
<span class="w">                    </span><span class="p">(</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Giml}{TsveyYudn}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="w">        </span><span class="c1">// ##################### Long list of irregular past participles</span>
<span class="w">        </span><span class="c1">// -(ge)gangen (shortened to -gangen after prefixes) =&gt; -gey</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Giml}{Alef}{Nun}{Giml}{Ayen}{Nun}</span><span class="s1">&#39;</span>
<span class="w">                    </span><span class="p">(</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Giml}{TsveyYudn}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">)</span>

<span class="w">        </span><span class="c1">// -(ge)numen (shortened to -numen after prefixes) =&gt; -nem</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Nun}{Vov}{Mem}{Ayen}{Nun}</span><span class="s1">&#39;</span>
<span class="w">          </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Nun}{Ayen}{Mem}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">)</span>

<span class="w">        </span><span class="c1">// -(ge)shribn (shortened to -shribn after prefixes) =&gt; -shrayb</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Shin}{Reysh}{Yud}{Beys}{Nun}</span><span class="s1">&#39;</span>
<span class="w">          </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Shin}{Reysh}{TsveyYudn}{Beys}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">)</span>

<span class="w">        </span><span class="c1">// -gemiten =&gt; -mayd</span>
<span class="w">        </span><span class="s1">&#39;GE</span><span class="se">{Mem}{Yud}{Tes}{Nun}</span><span class="s1">&#39;</span>
<span class="w">          </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Mem}{TsveyYudn}{Dalet}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="w">        </span><span class="c1">// -gebiten =&gt; -bayt</span>
<span class="w">        </span><span class="s1">&#39;GE</span><span class="se">{Beys}{Yud}{Tes}{Nun}</span><span class="s1">&#39;</span>
<span class="w">          </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Beys}{TsveyYudn}{Tes}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="w">        </span><span class="c1">// -gebisen =&gt; -bays</span>
<span class="w">        </span><span class="s1">&#39;GE</span><span class="se">{Beys}{Yud}{Samekh}{Nun}</span><span class="s1">&#39;</span>
<span class="w">          </span><span class="p">(</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Beys}{TsveyYudn}{Samekh}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="w">        </span><span class="c1">// -gevizen =&gt; -vayz</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{TsveyVovn}{Yud}{Zayen}{Nun}</span><span class="s1">&#39;</span>
<span class="w">           </span><span class="p">(</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{TsveyVovn}{TsveyYudn}{Zayen}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="w">        </span><span class="c1">// -getriben =&gt; -trayb</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Tes}{Reysh}{Yud}{Beys}{Nun}</span><span class="s1">&#39;</span>
<span class="w">           </span><span class="p">(</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Tes}{Reysh}{TsveyYudn}{Beys}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="w">        </span><span class="c1">// -geliten =&gt; -layt</span>
<span class="w">        </span><span class="s1">&#39;GE</span><span class="se">{Lamed}{Yud}{Tes}{Nun}</span><span class="s1">&#39;</span>
<span class="w">           </span><span class="p">(</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Lamed}{TsveyYudn}{Tes}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="w">        </span><span class="c1">// -gekliben =&gt; -klayb</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Kuf}{Lamed}{Yud}{Beys}{Nun}</span><span class="s1">&#39;</span>
<span class="w">           </span><span class="p">(</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Kuf}{Lamed}{TsveyYudn}{Beys}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="w">        </span><span class="c1">// -geriben =&gt; -rayb</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Reysh}{Yud}{Beys}{Nun}</span><span class="s1">&#39;</span>
<span class="w">           </span><span class="p">(</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Reysh}{TsveyYudn}{Beys}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="w">        </span><span class="c1">// -gerisen =&gt; -rays</span>
<span class="w">        </span><span class="s1">&#39;GE</span><span class="se">{Reysh}{Yud}{Samekh}{Nun}</span><span class="s1">&#39;</span>
<span class="w">           </span><span class="p">(</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Reysh}{TsveyYudn}{Samekh}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="w">        </span><span class="c1">// -geshvigen =&gt; -shvayg</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Shin}{TsveyVovn}{Yud}{Giml}{Nun}</span><span class="s1">&#39;</span>
<span class="w">           </span><span class="p">(</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Shin}{TsveyVovn}{TsveyYudn}{Giml}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="w">        </span><span class="c1">// -geshmisen =&gt; -shmays</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Shin}{Mem}{Yud}{Samekh}{Nun}</span><span class="s1">&#39;</span>
<span class="w">           </span><span class="p">(</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Shin}{Mem}{TsveyYudn}{Samekh}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="w">        </span><span class="c1">// -geshniten =&gt; -shnayd</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Shin}{Nun}{Yud}{Tes}{Nun}</span><span class="s1">&#39;</span>
<span class="w">           </span><span class="p">(</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Shin}{Nun}{TsveyYudn}{Dalet}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="w">        </span><span class="c1">// -gebunden =&gt; -bind</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Beys}{Vov}{Nun}{Dalet}{Nun}</span><span class="s1">&#39;</span>
<span class="w">         </span><span class="p">(</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Beys}{Yud}{Nun}{Dalet}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="w">        </span><span class="c1">// -gevuntshn =&gt; -vintsh</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{TsveyVovn}{Vov}{Tes}{Shin}{Nun}</span><span class="s1">&#39;</span>
<span class="w">         </span><span class="p">(</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{TsveyVovn}{Yud}{Tes}{Shin}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="w">        </span><span class="c1">// -gezungen =&gt; -zing</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Zayen}{Vov}{Nun}{Giml}{Nun}</span><span class="s1">&#39;</span>
<span class="w">         </span><span class="p">(</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Zayen}{Yud}{Nun}{Giml}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="w">        </span><span class="c1">// -getrunken =&gt; -trink</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Tes}{Reysh}{Vov}{Nun}{Kuf}{Nun}</span><span class="s1">&#39;</span>
<span class="w">         </span><span class="p">(</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Tes}{Reysh}{Yud}{Nun}{Kuf}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="w">        </span><span class="c1">// -getsvungen =&gt; -tsving</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Tsadek}{TsveyVovn}{Vov}{Nun}{Giml}{Nun}</span><span class="s1">&#39;</span>
<span class="w">         </span><span class="p">(</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Tsadek}{TsveyVovn}{Yud}{Nun}{Giml}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="w">        </span><span class="c1">// -geshlungen =&gt; -shling</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Shin}{Lamed}{Vov}{Nun}{Giml}{Nun}</span><span class="s1">&#39;</span>
<span class="w">         </span><span class="p">(</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Shin}{Lamed}{Yud}{Nun}{Giml}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="w">        </span><span class="c1">// -geboygen =&gt; -beyg</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Beys}{VovYud}{Giml}{Nun}</span><span class="s1">&#39;</span>
<span class="w">         </span><span class="p">(</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Beys}{TsveyYudn}{Giml}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="w">        </span><span class="c1">// -gehoyben =&gt; -heyb</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Hey}{VovYud}{Beys}{Nun}</span><span class="s1">&#39;</span>
<span class="w">         </span><span class="p">(</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Hey}{TsveyYudn}{Beys}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="w">        </span><span class="c1">// -farloyren =&gt; -farlir</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Fey}{Alef}{Reysh}{Lamed}{VovYud}{Reysh}{Nun}</span><span class="s1">&#39;</span>
<span class="w">         </span><span class="p">(</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Fey}{Alef}{Reysh}{Lamed}{Yud}{Reysh}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="w">        </span><span class="c1">// -shtanen =&gt; -shtey</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Shin}{Tes}{Alef}{Nun}{Ayen}{Nun}</span><span class="s1">&#39;</span>
<span class="w">         </span><span class="p">(</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Shin}{Tes}{TsveyYudn}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="w">         </span><span class="c1">// -geshvoyrn =&gt; -shver</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Shin}{TsveyVovn}{VovYud}{Reysh}{Nun}</span><span class="s1">&#39;</span>
<span class="w">         </span><span class="p">(</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Shin}{TsveyVovn}{Ayen}{Reysh}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="w">        </span><span class="c1">// -(ge)brakht (shortened to -brakht after prefixes) =&gt; -breng</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Beys}{Reysh}{Alef}{Khof}{Tes}</span><span class="s1">&#39;</span>
<span class="w">          </span><span class="p">(</span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Beys}{Reysh}{Ayen}{Nun}{Giml}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">)</span>

<span class="w">        </span><span class="c1">// ###### End of irregular past participles</span>

<span class="w">        </span><span class="c1">// Noun endings: -ung, -hayt, -kayt, -ikayt, -shaft</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Vov}{Nun}{Giml}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Hey}{TsveyYudn}{Tes}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Kuf}{TsveyYudn}{Tes}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Yud}{Kuf}{TsveyYudn}{Tes}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Shin}{Alef}{Fey}{Tes}</span><span class="s1">&#39;</span>
<span class="w">          </span><span class="p">(</span><span class="w"> </span><span class="n">R1</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="p">)</span>

<span class="w">        </span><span class="c1">// Noun endings: -izm, izmen</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Yud}{Zayen}{Mem}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Yud}{Zayen}{Mem}{Ayen}{Nun}</span><span class="s1">&#39;</span>
<span class="w">          </span><span class="p">(</span><span class="w"> </span><span class="n">R1</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="p">)</span>

<span class="w">        </span><span class="c1">// Plural ending: -im</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Yud}{Mem}</span><span class="s1">&#39;</span>
<span class="w">          </span><span class="p">(</span><span class="w"> </span><span class="n">R1</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="p">)</span>

<span class="w">        </span><span class="c1">// Plural ending: -os (Hebraic), replace with -h</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Vov}{Sof}</span><span class="s1">&#39;</span>
<span class="w">          </span><span class="p">(</span><span class="w"> </span><span class="n">R1</span><span class="w">  </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Hey}</span><span class="s1">&#39;</span><span class="w"> </span><span class="p">)</span>

<span class="w">        </span><span class="c1">// Diminutive endings: -elekh, -ele, -lekh, -eles, -elen</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Ayen}{Lamed}{Ayen}{Khof}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Ayen}{Lamed}{Ayen}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Lamed}{Ayen}{Khof}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Ayen}{Lamed}{Ayen}{Samekh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Ayen}{Lamed}{Ayen}{Nun}</span><span class="s1">&#39;</span>
<span class="w">           </span><span class="p">(</span><span class="w"> </span><span class="n">R1</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="p">)</span>

<span class="w">        </span><span class="c1">// Noun ending: -ist</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Yud}{Samekh}{Tes}</span><span class="s1">&#39;</span>
<span class="w">          </span><span class="p">(</span>
<span class="w">            </span><span class="c1">// Exceptions: -gist, -shist</span>
<span class="w">            </span><span class="p">(</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;</span><span class="se">{Giml}</span><span class="s1">&#39;</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Shin}</span><span class="s1">&#39;</span><span class="p">)</span><span class="w"> </span><span class="ow">try</span><span class="w"> </span><span class="p">(</span><span class="n">R1plus3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Yud}{Samekh}</span><span class="s1">&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">)</span>
<span class="w">            </span><span class="ow">or</span>
<span class="w">            </span><span class="p">(</span><span class="w"> </span><span class="n">R1</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="p">)</span>
<span class="w">          </span><span class="p">)</span>

<span class="w">        </span><span class="c1">// Noun ending: -istn</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Yud}{Samekh}{Tes}{Nun}</span><span class="s1">&#39;</span>
<span class="w">          </span><span class="p">(</span><span class="w"> </span><span class="n">R1</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="p">)</span>

<span class="w">        </span><span class="c1">// Verb ending: -stu</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Samekh}{Tes}{Vov}</span><span class="s1">&#39;</span>
<span class="w">          </span><span class="p">(</span><span class="w"> </span><span class="n">R1</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="p">)</span>

<span class="w">        </span><span class="c1">// Superlative ending: -ster, -ste, -stn</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Samekh}{Tes}{Ayen}{Reysh}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Samekh}{Tes}{Ayen}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Samekh}{Tes}{Nun}</span><span class="s1">&#39;</span>
<span class="w">          </span><span class="p">(</span><span class="w"> </span><span class="n">R1</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="p">)</span>

<span class="w">        </span><span class="c1">// Ambiguous verb ending: -st</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Samekh}{Tes}</span><span class="s1">&#39;</span>
<span class="w">          </span><span class="p">(</span><span class="w"> </span><span class="n">R1</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="p">)</span>
<span class="w">      </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>

<span class="w">    </span><span class="ow">do</span><span class="w"> </span><span class="p">(</span>
<span class="w">      </span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="w"> </span><span class="kr">among</span><span class="p">(</span>
<span class="w">        </span><span class="c1">// Noun endings: -ung, -hayt, -kayt, -ikayt, -shaft</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Vov}{Nun}{Giml}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Hey}{TsveyYudn}{Tes}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Kuf}{TsveyYudn}{Tes}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Yud}{Kuf}{TsveyYudn}{Tes}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Shin}{Alef}{Fey}{Tes}</span><span class="s1">&#39;</span>
<span class="w">          </span><span class="p">(</span><span class="w"> </span><span class="n">R1</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="p">)</span>

<span class="w">        </span><span class="c1">// Diminutive endings: -l</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Lamed}</span><span class="s1">&#39;</span>
<span class="w">          </span><span class="p">(</span><span class="w"> </span><span class="n">R1</span><span class="w"> </span><span class="n">consonant</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="p">)</span>
<span class="w">      </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>

<span class="w">    </span><span class="ow">do</span><span class="w"> </span><span class="p">(</span>
<span class="w">      </span><span class="o">[</span><span class="ow">substring</span><span class="o">]</span><span class="w"> </span><span class="kr">among</span><span class="p">(</span>
<span class="w">        </span><span class="c1">// Adjective endings: -ig, -ik, -ish, -nik, -dik</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Yud}{Giml}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Yud}{Kuf}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Yud}{Shin}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Nun}{Yud}{Kuf}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Dalet}{Yud}{Kuf}</span><span class="s1">&#39;</span>
<span class="w">          </span><span class="p">(</span><span class="w"> </span><span class="n">R1</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="p">)</span>

<span class="w">        </span><span class="c1">// Exceptions to above: -blik, -glik</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Beys}{Lamed}{Yud}{Kuf}</span><span class="s1">&#39;</span><span class="w"> </span><span class="s1">&#39;</span><span class="se">{Giml}{Lamed}{Yud}{Kuf}</span><span class="s1">&#39;</span>
<span class="w">          </span><span class="p">(</span><span class="w"> </span><span class="ow">true</span><span class="w"> </span><span class="p">)</span>

<span class="w">        </span><span class="c1">// Present participle endings: -ndik</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Nun}{Dalet}{Yud}{Kuf}</span><span class="s1">&#39;</span>
<span class="w">           </span><span class="p">(</span><span class="w"> </span><span class="n">R1</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="p">)</span>

<span class="w">        </span><span class="c1">// Present participle ending -endik: delete if after a -ng, -nk, -n, -m, consonant+l, or vowel.</span>
<span class="w">        </span><span class="c1">// Otherwise, delete just the -ndik part.</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="se">{Ayen}{Nun}{Dalet}{Yud}{Kuf}</span><span class="s1">&#39;</span>
<span class="w">           </span><span class="p">(</span><span class="w"> </span><span class="n">R1</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="p">)</span>
<span class="w">      </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>

<span class="w">    </span><span class="ow">do</span><span class="w"> </span><span class="p">(</span><span class="ow">repeat</span><span class="w"> </span><span class="ow">goto</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">[</span><span class="s1">&#39;GE&#39;</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s1">&#39;TSU&#39;</span><span class="o">]</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="p">))</span>
<span class="w">  </span><span class="p">)</span>
<span class="p">)</span>

<span class="kr">define</span><span class="w"> </span><span class="n">stem</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="ow">do</span><span class="w"> </span><span class="n">prelude</span>
<span class="w">  </span><span class="ow">do</span><span class="w"> </span><span class="n">mark_regions</span>
<span class="w">  </span><span class="ow">backwards</span>
<span class="w">    </span><span class="ow">do</span><span class="w"> </span><span class="n">standard_suffix</span>
<span class="p">)</span>
</pre></div>


        </div><!-- /.col-md-10 -->
      </div><!-- /.row -->
    </div><!-- /.container -->

    <div class="container">
      <footer class="footer">
        <p>
          <a href="/lists.html">Write to our mailing list</a> if you have comments or questions about the project.
        </p>
      </footer>
    </div> <!-- /container -->
    <script src="https://cdn.jsdelivr.net/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  </body>
</html>
